
<!DOCTYPE html>
<html lang="zh-Hans">
    <head>
        <meta charset="utf-8" />
        <title>Python学习（十）——附加知识 | 小C♥天天</title>
        <meta name="author" content="小C&天天" />
        <meta name="description" content="^v^" />
        <meta name="keywords" content="" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
        <link rel="icon" href="/images/icon.jpg" />
        <link rel="preconnect" href="https://cdn.staticfile.org" />
<script src="https://cdn.staticfile.org/vue/3.3.4/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/6.4.0/css/all.min.css" />
<link rel="preconnect" href="https://fonts.loli.net" />
<link rel="preconnect" href="https://gstatic.loli.net" crossorigin />
<link rel="stylesheet" href="https://fonts.loli.net/css2?family=Fira+Code:wght@400;500;600;700&family=Lexend:wght@400;500;600;700;800;900&family=Noto+Sans+SC:wght@400;500;600;700;800;900&display=swap" />
<script> const mixins = {}; </script>

<!-- 兼容不同版本的浏览器 -->
<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>


<!-- 高亮代码 -->
<script src="https://cdn.staticfile.org/highlight.js/11.8.0/highlight.min.js"></script>
<script src="https://cdn.staticfile.org/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<link rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/11.8.0/styles/github.min.css"/>
<script src="/js/lib/highlight.js"></script>


<!-- 使用 KaTeX 渲染数学公式 -->
<script src="https://cdn.staticfile.org/KaTeX/0.16.8/katex.min.js"></script>
<script src="https://cdn.staticfile.org/KaTeX/0.16.8/contrib/auto-render.min.js"></script>
<link rel="stylesheet" href="https://cdn.staticfile.org/KaTeX/0.16.8/katex.min.css" />
<script src="/js/lib/math.js"></script>


<!-- 简单的点击图片放大缩小的预览 -->
<script src="/js/lib/preview.js"></script>


<!-- 看板娘 -->
<script src="https://cdn.staticfile.org/pixi.js/4.6.1/pixi.min.js"></script>


<!-- 侧边小功能-->



<!-- 评论设置 -->

<script
    src="https://giscus.app/client.js"
    data-repo="A7cc/giscus-comments"
    data-repo-id="R_kgDOKKSvfw"
    data-category="Announcements"
    data-category-id="DIC_kwDOKKSvf84CYyp2"
    data-mapping="pathname"
    data-strict="1"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="bottom"
    data-theme="https://static-argvchs.netlify.app/css/giscus.css"
    data-lang="zh-CN"
    crossorigin
    async
></script>



<script src="https://cdn.bootcdn.net/ajax/libs/animejs/3.2.1/anime.min.js"></script>
<link rel="stylesheet" href="/css/main.css" />

    <meta name="generator" content="Hexo 6.2.0"></head>
    <body>
        <div id="layout">
            <!-- 页面加载 -->
            <transition name="fade">
                <div id="loading" v-show="loading">
                    <div id="loading-circle">
                        <h2>LOADING</h2>
                        <p>正在加载</p>
                        <img src="/images/afde9fa65a5742a90b51d6e1211e841e.gif" />
                    </div>
                </div>
            </transition>
            <div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <nav id="desktop-menu">
        <a class="title" href="/">
            <span>小C♥天天</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;主页</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;关于</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;文章</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;分类</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;标签</span>
        </a>
        
        <a href="/tools">
            <i class="fa-solid fa-tools fa-fw"></i>
            <span>&ensp;工具</span>
        </a>
        
    </nav>
    <nav id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;小C♥天天</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">主页</div>
                    </div>
                </a>
                
                <a href="/about">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">关于</div>
                    </div>
                </a>
                
                <a href="/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">文章</div>
                    </div>
                </a>
                
                <a href="/categories">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-bookmark fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">分类</div>
                    </div>
                </a>
                
                <a href="/tags">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">标签</div>
                    </div>
                </a>
                
                <a href="/tools">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tools fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">工具</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </nav>
</div>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>

            <div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'">
                <div id="article-posts-wrap" true ref="homePostsWrap">
    <div class="article">
        <div>
            <h1>Python学习（十）——附加知识</h1>
        </div>
        <div class="info">
            <span class="date">
                <span class="icon">
                    <i class="fa-solid fa-calendar fa-fw"></i>
                </span>
                2023/3/14
            </span>
            
            <span class="category">
                <a href="/categories/Python%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/">
                    <span class="icon">
                        <i class="fa-solid fa-bookmark fa-fw"></i>
                    </span>
                    Python基础教程
                </a>
            </span>
            
            
            <span class="tags">
                <span class="icon">
                    <i class="fa-solid fa-tags fa-fw"></i>
                </span>
                
                
                <span class="tag">
                    
                    <a href="/tags/Python/" style="color: #ffa2c4">Python</a>
                </span>
                
                <span class="tag">
                    
                    <a href="/tags/%E5%BC%80%E5%8F%91/" style="color: #ff7d73">开发</a>
                </span>
                
            </span>
            
        </div>
        
        <div class="content" v-pre>
            <h1 id="一、枚举"><a href="#一、枚举" class="headerlink" title="一、枚举"></a>一、枚举</h1><h2 id="1-什么是枚举？"><a href="#1-什么是枚举？" class="headerlink" title="1.什么是枚举？"></a>1.什么是枚举？</h2><p>起初 Python 中并未内置枚举（enum）类型，枚举是在 Python3.4 添加的新功能，此时我们可能会有一个疑问：Python3.4 之前的版本还能不能使用枚举呢？<br>答案是可以使用，但是不能直接使用，使用之前需要先用<code>pip install enum</code>安装。<br>枚举可看作是一系列符号名称的集合，集合中每一个元素要保证唯一性和不可变，因此我们可以对枚举中元素进行恒等比较，通俗来讲枚举就是一系列常量的集合，枚举是可迭代的。</p>
<span id="more"></span>
<h2 id="2-枚举有什么作用？"><a href="#2-枚举有什么作用？" class="headerlink" title="2.枚举有什么作用？"></a>2.枚举有什么作用？</h2><p>我们先来思考一个问题：不使用枚举我们如何定义常量呢？<br>常用的做法是采用变量名大写的方式来定义，这种方式虽然简单，但问题在于我们定义的仍然是变量、是可以被修改的，而常量是什么呢？简单来说就是不可变的量，枚举就有不可变的特性，所以枚举的主要作用就是用来定义常量的。</p>
<h2 id="3-使用"><a href="#3-使用" class="headerlink" title="3.使用"></a>3.使用</h2><h3 id="a-创建"><a href="#a-创建" class="headerlink" title="a.创建"></a>a.创建</h3><p>枚举语法与 class 语法相同，之前我们在Python 基础（十一）：面向对象中已经介绍过 class 了，枚举的定义可以通过继承 Enum 的方式来实现， 看一下示例：</p>
<pre><code class="python">from enum import Enum

class WeekDay(Enum):
    Mon = 0
    Tue = 1
    Wed = 2
    Thu = 3
    Fri = 4
</code></pre>
<h3 id="b-访问"><a href="#b-访问" class="headerlink" title="b.访问"></a>b.访问</h3><p>枚举成员及属性的访问如下所示：</p>
<pre><code class="python"># 枚举成员
print(WeekDay.Mon)
# 枚举成员名称
print(WeekDay.Mon.name)
# 枚举成员值
print(WeekDay.Mon.value)
</code></pre>
<p>枚举的迭代也很简单，如下所示：</p>
<pre><code class="python"># 方式 1
for day in WeekDay:
    # 枚举成员
    print(day)
    # 枚举成员名称
    print(day.name)
    # 枚举成员值
    print(day.value)

# 方式 2
print(list(WeekDay))
</code></pre>
<h3 id="c-比较"><a href="#c-比较" class="headerlink" title="c.比较"></a>c.比较</h3><p>枚举成员及属性可以使用<code>is</code>进行对象比较，还可以使用<code>==</code>进行值比较，看下示例：</p>
<pre><code class="python">print(WeekDay.Mon is WeekDay.Thu)
print(WeekDay.Mon == WeekDay.Mon)
print(WeekDay.Mon.name == WeekDay.Mon.name)
print(WeekDay.Mon.value == WeekDay.Mon.value)
</code></pre>
<p>枚举成员不能进行大小比较，如下所示：</p>
<pre><code class="python">&gt;&gt;&gt; WeekDay.Mon &lt; WeekDay.Thu
TypeError: &#39;&lt;&#39; not supported between instances of &#39;WeekDay&#39; and &#39;WeekDay&#39;
</code></pre>
<h3 id="d-确保枚举值唯一"><a href="#d-确保枚举值唯一" class="headerlink" title="d.确保枚举值唯一"></a>d.确保枚举值唯一</h3><p>我们定义枚举时，成员名称是不可以重复的，但成员值是可以重复的，如果想要保证成员值不可重复，可以通过装饰器<code>@unique</code>来实现，如下所示：</p>
<pre><code class="python">from enum import Enum, unique

@unique
class WeekDay(Enum):
    Mon = 0
    ...
</code></pre>
<h1 id="二、命名空间"><a href="#二、命名空间" class="headerlink" title="二、命名空间"></a>二、命名空间</h1><h2 id="1-概念"><a href="#1-概念" class="headerlink" title="1.概念"></a>1.概念</h2><p>命名空间（namespace）是名称到对象的映射，当前大部分命名空间都是通过 Python 字典来实现的，它的主要作用是避免项目中的名字冲突，每一个命名空间都是相对独立的，在不同的命名空间中可以同名，在相同的命名空间中不可以同名。</p>
<h2 id="2-种类"><a href="#2-种类" class="headerlink" title="2.种类"></a>2.种类</h2><p>命名空间主要有以下三种：</p>
<ul>
<li><p>内置：主要用来存放内置函数、异常等，比如：abs 函数、BaseException 异常。</p>
</li>
<li><p>全局：指在模块中定义的名称，比如：类、函数等。</p>
</li>
<li><p>局部：指在函数中定义的名称，比如：函数的参数、在函数中定义的变量等。</p>
<h2 id="3-生命周期"><a href="#3-生命周期" class="headerlink" title="3.生命周期"></a>3.生命周期</h2><p>通常在不同时刻创建的命名空间拥有不同的生命周期，看一下三种命名空间的生命周期：</p>
</li>
<li><p>内置：在 Python 解释器启动时创建，退出时销毁。</p>
</li>
<li><p>全局：在模块定义被读入时创建，在 Python 解释器退出时销毁。</p>
</li>
<li><p>局部：对于类，在 Python 解释器读到类定义时创建，类定义结束后销毁；对于函数，在函数被调用时创建，函数执行完成或出现未捕获的异常时销毁。</p>
<h1 id="三、作用域"><a href="#三、作用域" class="headerlink" title="三、作用域"></a>三、作用域</h1><h2 id="1-概念-1"><a href="#1-概念-1" class="headerlink" title="1.概念"></a>1.概念</h2><p>作用域是 Python 程序可以直接访问命名空间的文本区域（代码区域），名称的非限定引用会尝试在命名空间中查找名称，作用域是静态的，命名空间是随着解释器的执行动态产生的，因此在作用域中访问命名空间中的名字具有了动态性，即作用域被静态确定，被动态使用。</p>
<h2 id="2-种类-1"><a href="#2-种类-1" class="headerlink" title="2.种类"></a>2.种类</h2><p>Python 有如下四种作用域：</p>
</li>
<li><p>局部：最先被搜索的最内部作用域，包含局部名称。</p>
</li>
<li><p>嵌套：根据嵌套层次由内向外搜索，包含非全局、非局部名称。</p>
</li>
<li><p>全局：倒数第二个被搜索，包含当前模块的全局名称。</p>
</li>
<li><p>内建：最后被搜索，包含内置名称的命名空间。<br>作用域的搜索顺序通过下图直观的来看一下：<br><img src="/images/Python%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/1daa2703c53a6edc3784ca50f4e534f2.png" alt="1daa2703c53a6edc3784ca50f4e534f2.png"></p>
</li>
</ul>
<p>Python 中会按上图所示作用域由内向外去搜索名字。</p>
<p>再通过具体代码来对作用域作进一步了解，如下所示：</p>
<pre><code class="python"># 全局作用域
g = 1
def outer():
    # 嵌套作用域
    e = 2
    def inner():
        # 局部作用域
        i = 3
</code></pre>
<h2 id="3-global-amp-nonlocal"><a href="#3-global-amp-nonlocal" class="headerlink" title="3.global &amp; nonlocal"></a>3.global &amp; nonlocal</h2><p>我们先来看一下全局变量与局部变量。</p>
<ul>
<li>全局变量：定义在函数外部的变量。</li>
<li>局部变量：定义在函数内部的变量。<br>全局变量可以在整个程序范围内进行访问，而局部变量只能在函数内部访问。通过具体示例看一下：<br>&#96;&#96;&#96;python<h1 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h1>d &#x3D; 0<br>def sub(a, b):<h1 id="d-在这为局部变量"><a href="#d-在这为局部变量" class="headerlink" title="d 在这为局部变量"></a>d 在这为局部变量</h1>  d &#x3D; a - b<br>  print(‘函数内 : ‘, d)</li>
</ul>
<p>sub(9, 1)<br>print(‘函数外 : ‘, d)</p>
<p>#执行结果：<br>#函数内 :  8<br>#函数外 :  0</p>
<pre><code>
当内部作用域想要修改外部作用域的变量时，就要用到 `global` 和 `nonlocal` 关键字了，下面通过具体示例来了解一下。

如果我们想将上面示例中 `sub()` 函数中的 `d` 变量修改为全局变量，则需使用 `global` 关键字，示例如下所示：

```python
# 全局变量
d = 0
def sub(a, b):
    # 使用 global 声明 d 为全局变量
    global d
    d = a - b
    print(&#39;函数内 : &#39;, d)

sub(9, 1)
print(&#39;函数外 : &#39;, d)
#执行结果：
#函数内 :  8
#函数外 :  8
</code></pre>
<p>如果需要修改嵌套作用域中的变量，则需用到 <code>nonlocal</code> 关键字。</p>
<pre><code class="python">def outer():
    d = 1
    def inner():
        d = 2
        print(&#39;inner：&#39;, d)
    inner()
    print(&#39;outer：&#39;, d)
outer()
#执行结果：
#inner：2
#outer：1
</code></pre>
<p><strong>使用 nonlocal</strong></p>
<p>再来看一下使用了 <code>nonlocal</code> 关键字的执行情况，如下所示：</p>
<p>执行结果：</p>
<pre><code class="python">def outer():
    d = 1
    def inner():
        nonlocal d
        d = 2
        print(&#39;inner：&#39;, d)
    inner()
    print(&#39;outer：&#39;, d)
outer()
#执行结果：
#inner：2
#outer：2
</code></pre>
<h1 id="四、迭代器"><a href="#四、迭代器" class="headerlink" title="四、迭代器"></a>四、迭代器</h1><h2 id="1-迭代"><a href="#1-迭代" class="headerlink" title="1.迭代"></a>1.迭代</h2><p>我们知道 Python 中有一些对象可以通过 <code>for</code> 来循环遍历，比如：列表、元组、字符等，以字符串为例，如下所示：</p>
<pre><code class="python">for i in &#39;Hello&#39;:
    print(i)
#执行结果：
H
e
l
l
o
</code></pre>
<p>这个遍历过程就是迭代。</p>
<h2 id="2-可迭代对象"><a href="#2-可迭代对象" class="headerlink" title="2.可迭代对象"></a>2.可迭代对象</h2><p>可迭代对象需具有 <code>__iter__()</code> 方法，它们均可使用 <code>for</code> 循环遍历，我们可以使用 <code>isinstance()</code> 方法来判断一个对象是否为可迭代对象，看下示例：</p>
<pre><code class="python">from collections import Iterable

print(isinstance(&#39;abc&#39;, Iterable))
print(isinstance(&#123;1, 2, 3&#125;, Iterable))
print(isinstance(1024, Iterable))
#执行结果：
True
True
False
</code></pre>
<h2 id="3-迭代器"><a href="#3-迭代器" class="headerlink" title="3.迭代器"></a>3.迭代器</h2><p>迭代器需要具有 <code>__iter__()</code> 和 <code>__next__()</code> 两个方法，这两个方法共同组成了迭代器协议，通俗来讲迭代器就是一个可以记住遍历位置的对象，迭代器一定是可迭代的，反之不成立。</p>
<ul>
<li><code>__iter__()</code>：返回迭代器对象本身</li>
<li><code>__next__()</code>：返回下一项数据</li>
</ul>
<p>迭代器对象本质是一个数据流，它通过不断调用 <code>__next__()</code> 方法或被内置的 <code>next()</code> 方法调用返回下一项数据，当没有下一项数据时抛出 <code>StopIteration</code> 异常迭代结束。上面我们说的 <code>for</code> 循环语句的实现便是利用了迭代器。</p>
<p>我们试着自己来实现一个迭代器，如下所示：</p>
<pre><code class="python">class MyIterator:
    def __init__(self):
        self.s = &#39;程序之间&#39;
        self.i = 0

    def __iter__(self):
        return self

    def __next__(self):
        if self.i &lt; 4:
            n = self.s[self.i]
            self.i += 1
            return n
        else:
            raise StopIteration

mi = iter(MyIterator())
for i in mi:
    print(i)
#输出结果：
程
序
之
间
</code></pre>
<h1 id="伍、生成器"><a href="#伍、生成器" class="headerlink" title="伍、生成器"></a>伍、生成器</h1><p>生成器是用来创建迭代器的工具，其写法与标准函数类似，不同之处在于返回时使用 <code>yield</code> 语句，关于 <code>yield</code> ，可以参考<a target="_blank" rel="noopener" href="https://blog.csdn.net/mieleizhi0522/article/details/82142856">python中yield的用法详解——最简单，最清晰的解释</a>，再来熟悉一下：</p>
<blockquote>
<p>yield 是一个关键字，作用和 return 差不多，差别在于 yield 返回的是一个生成器（在 Python 中，一边循环一边计算的机制，称为生成器），它的作用是：有利于减小服务器资源，在列表中所有数据存入内存，而生成器相当于一种方法而不是具体的信息，用多少取多少，占用内存小。</p>
</blockquote>
<p>生成器的创建方式有很多种，比如：使用 <code>yield</code> 语句、生成器表达式（可以简单的理解为是将列表的 <code>[]</code> 换成了 <code>()</code>，特点是更加简洁，但不够灵活）。看下示例：</p>
<h2 id="1-示例-1"><a href="#1-示例-1" class="headerlink" title="1.示例 1"></a>1.示例 1</h2><pre><code class="python">def foo():
    print(&quot;starting...&quot;)
    while True:
        res = yield 4
        print(&quot;res:&quot;,res)
g = foo()
print(next(g))
print(&quot;*&quot;*20)
print(next(g))
#执行结果：
starting...
4
********************
res: None
4
</code></pre>
<p>a.程序开始执行以后，因为<code>foo</code>函数中有<code>yield</code>关键字，所以<code>foo</code>函数并不会真的执行，而是先得到一个生成器<code>g</code>（相当于一个对象）<br>b.直到调用<code>next</code>方法，<code>foo</code>函数正式开始执行，先执行<code>foo</code>函数中的<code>print</code>方法，然后进入<code>while</code>循环<br>c.程序遇到<code>yield</code>关键字，然后把<code>yield</code>想想成<code>return</code>，<code>return</code>了一个<code>4</code>之后，程序停止，并没有执行赋值给res操作，此时<code>next(g)</code>语句执行完成，所以输出的前两行（第一个是<code>while</code>上面的<code>print</code>的结果，第二个是<code>return</code>出的结果）是执行<code>print(next(g))</code>的结果<br>d.程序执行<code>print(&quot;*&quot;*20)</code>，输出20个<code>*</code><br>e.又开始执行下面的<code>print(next(g))</code>,这个时候和上面那个差不多，不过不同的是，这个时候是从刚才那个<code>next</code>程序停止的地方开始执行的，也就是要执行<code>res</code>的赋值操作，这时候要注意，这个时候赋值操作的右边是没有值的（因为刚才那个是<code>return</code>出去了，并没有给赋值操作的左边传参数），所以这个时候<code>res</code>赋值是<code>None</code>，所以接着下面的输出就是<code>res:None</code><br>f.程序会继续在<code>while</code>里执行，又一次碰到<code>yield</code>，这个时候同样<code>return</code> 出<code>4</code>，然后程序停止，<code>print</code>函数输出的<code>4</code>就是这次<code>return</code>出的<code>4</code>。</p>
<h2 id="2-示例-2"><a href="#2-示例-2" class="headerlink" title="2.示例 2"></a>2.示例 2</h2><pre><code class="python">def foo():
    print(&quot;starting...&quot;)
    while True:
        res = yield 4
        print(&quot;res:&quot;,res)
g = foo()
print(next(g))
print(&quot;*&quot;*20)
print(g.send(7))
#执行结果：
starting...
4
********************
res: 7
4
</code></pre>
<blockquote>
<p>大致说一下<code>send</code>函数的概念：此时你应该注意到上面那个的紫色的字，还有上面那个<code>res</code>的值为什么是<code>None</code>，这个变成了<code>7</code>，到底为什么，这是因为，<code>send</code>是发送一个参数给<code>res</code>的，因为上面讲到，<code>return</code>的时候，并没有把<code>4</code>赋值给<code>res</code>，下次执行的时候只好继续执行赋值操作，只好赋值为<code>None</code>了，而如果用<code>send</code>的话，开始执行的时候，先接着上一次（<code>return 4</code>之后）执行，先把<code>7</code>赋值给了<code>res</code>，然后执行<code>next</code>的作用，遇见下一回的<code>yield</code>，<code>return</code>出结果后结束。</p>
</blockquote>
<p>上面这个例子与前面例子差不多，区别在于执行<code>g.send(7)</code>，程序会从<code>yield</code>关键字那一行继续向下运行，<code>send</code>会把<code>7</code>这个值赋值给<code>res</code>变量，由于<code>send</code>方法中包含<code>next()</code>方法，所以程序会继续向下运行执行<code>print</code>方法，然后再次进入<code>while</code>循环，程序执行再次遇到<code>yield</code>关键字，<code>yield</code>会返回后面的值后，程序再次暂停，直到再次调用<code>next</code>方法或<code>send</code>方法。</p>
<h1 id="陆-装饰器"><a href="#陆-装饰器" class="headerlink" title="陆 装饰器"></a>陆 装饰器</h1><h2 id="1-闭包"><a href="#1-闭包" class="headerlink" title="1.闭包"></a>1.闭包</h2><p>首先我们来了解下闭包，什么是闭包呢？看一下维基百科给出的解析：</p>
<blockquote>
<p>闭包（英语：Closure），又称词法闭包（Lexical Closure）或函数闭包（function closures），是引用了自由变量的函数。这个被引用的自由变量将和这个函数一同存在，即使已经离开了创造它的环境也不例外。所以，有另一种说法认为闭包是由函数和与其相关的引用环境组合而成的实体。闭包在运行时可以有多个实例，不同的引用环境和相同的函数组合可以产生不同的实例。</p>
</blockquote>
<p>不过都没关系，我们再以 Python 为例更通俗的解释一下：比如我们调用一个带有返回值的函数 x，此时函数 x 为我们返回一个函数 y，这个函数 y 就被称作闭包，这么一说是不是豁然开朗了</p>
<pre><code class="python">def x(id):
    def y(name):
        print (&#39;id:&#39;, id, &#39;name:&#39;, name)
    return y

y = x(&#39;ityard&#39;)
y(&#39;程序之间&#39;)
</code></pre>
<p>通过上面的示例，我们会发现闭包与类有一些相似，比如：它们都能实现数据的封装、方法的复用等；此外，通过使用闭包可以避免使用全局变量，还能将函数与其所操作的数据关连起来。</p>
<h2 id="2-装饰器"><a href="#2-装饰器" class="headerlink" title="2.装饰器"></a>2.装饰器</h2><p>装饰器（decorator）也称装饰函数，是一种闭包的应用，其主要是用于某些函数需要拓展功能，但又不希望修改原函数，它就是语法糖，使用它可以简化代码、增强其可读性，当然装饰器不是必须要求被使用的，不使用也是可以的，Python 中装饰器通过 <code>@</code> 符号来进行标识。</p>
<p>装饰器可以基于函数实现也可基于类实现，其使用方式基本是固定的，看一下基本步骤：</p>
<ul>
<li>定义装饰函数（类）</li>
<li>定义业务函数</li>
<li>在业务函数上添加 <code>@装饰函数（类）名</code></li>
</ul>
<p>接下来通过示例来作进一步了解。</p>
<p><strong>a.基于函数</strong></p>
<pre><code class="python"># 装饰函数
def funA(flag):
    def funB(fun):
        def funC(*args, **kw):
            if flag == True:
                print(&#39;==========&#39;)
            elif flag == False:
                print(&#39;----------&#39;)
            fun(*args, **kw)
        return funC
    return funB

@funA(False)
# 业务函数
def funD(name):
  print(&#39;Hello&#39;, name)

funD(&#39;Jhon&#39;)
</code></pre>
<p>Python 中还支持多个装饰器同时使用，比如装饰函数为：funA、funD，业务函数为：funH，使用方式如下所示：</p>
<pre><code class="python">
@funA
@funD
def funH():
    ...
</code></pre>
<p><strong>b.基于类</strong></p>
<p>装饰器除了基于函数实现，还可以基于类实现，看下示例：</p>
<pre><code class="python">class Test(object):
    def __init__(self, func):
        print(&#39;函数名是 %s &#39; % func.__name__)
        self.__func = func
    def __call__(self, *args, **kwargs):
        self.__func()
@Test
def hello():
    print(&#39;Hello ...&#39;)
    
hello()
</code></pre>
<p>Python 装饰器的 <code>@...</code> 相当于将被装饰的函数（业务函数）作为参数传入装饰函数（类）。</p>

        </div>
        
        
        <div id="comment">
            <div id="giscus-container" class="giscus"></div>
        </div>
        
    </div>
    
    <div id="article-card">
        <div id="card-style">
    <div id="card-div" class="card-cls">
        <div class="avatar">
            <img src="/images/f6e2b991f74bfd7b88c3ab1a3d513b94.jpg" alt="avatar" />
        </div>
        <div class="name">小C&amp;天天</div>
        <div class="description">
            <p>修学储能 先博后渊</p>

        </div>
        
        <div class="icon-links">
            
            <span class="icon-link">
                <a target="_blank" rel="noopener" href="https://github.com/A7cc">
                    <i class="fa-brands fa-github fa-fw"></i>
                </a>
            </span>
            
            <span class="icon-link">
                <a target="_blank" rel="noopener" href="https://www.qq.com/">
                    <i class="fa-brands fa-qq fa-fw"></i>
                </a>
            </span>
            
            <span class="icon-link">
                <a target="_blank" rel="noopener" href="https://www.weibo.com/">
                    <i class="fa-brands fa-weibo fa-fw"></i>
                </a>
            </span>
            
            <span class="icon-link">
                <a target="_blank" rel="noopener" href="https://google.com/">
                    <i class="fa-brands fa-google fa-fw"></i>
                </a>
            </span>
            
        </div>
        
        
        <div class="friend-links">
            
            <span class="friend-link">
                <a target="_blank" rel="noopener" href="http://www.wgs6km.top/">kyrieee</a>
            </span>
            
            <span class="friend-link">
                <a target="_blank" rel="noopener" href="https://tonyd0g.gitee.io/">tonyd0g</a>
            </span>
            
            <span class="friend-link">
                <a target="_blank" rel="noopener" href="https://ruyueattention.github.io/">ruyueattention</a>
            </span>
            
        </div>
        
    </div>
    
    <!-- <br /> -->
    <!-- 目录 -->
    <!-- 
    <div id="card-div">
        <div id="toc" class="toc-article">
            <strong class="toc-title">文章目录</strong>
            <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%9E%9A%E4%B8%BE"><span class="toc-text">一、枚举</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E4%BB%80%E4%B9%88%E6%98%AF%E6%9E%9A%E4%B8%BE%EF%BC%9F"><span class="toc-text">1.什么是枚举？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%9E%9A%E4%B8%BE%E6%9C%89%E4%BB%80%E4%B9%88%E4%BD%9C%E7%94%A8%EF%BC%9F"><span class="toc-text">2.枚举有什么作用？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E4%BD%BF%E7%94%A8"><span class="toc-text">3.使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#a-%E5%88%9B%E5%BB%BA"><span class="toc-text">a.创建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#b-%E8%AE%BF%E9%97%AE"><span class="toc-text">b.访问</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#c-%E6%AF%94%E8%BE%83"><span class="toc-text">c.比较</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#d-%E7%A1%AE%E4%BF%9D%E6%9E%9A%E4%B8%BE%E5%80%BC%E5%94%AF%E4%B8%80"><span class="toc-text">d.确保枚举值唯一</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="toc-text">二、命名空间</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%A6%82%E5%BF%B5"><span class="toc-text">1.概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E7%A7%8D%E7%B1%BB"><span class="toc-text">2.种类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-text">3.生命周期</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-text">三、作用域</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%A6%82%E5%BF%B5-1"><span class="toc-text">1.概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E7%A7%8D%E7%B1%BB-1"><span class="toc-text">2.种类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-global-amp-nonlocal"><span class="toc-text">3.global &amp; nonlocal</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F"><span class="toc-text">全局变量</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#d-%E5%9C%A8%E8%BF%99%E4%B8%BA%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F"><span class="toc-text">d 在这为局部变量</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="toc-text">四、迭代器</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E8%BF%AD%E4%BB%A3"><span class="toc-text">1.迭代</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%8F%AF%E8%BF%AD%E4%BB%A3%E5%AF%B9%E8%B1%A1"><span class="toc-text">2.可迭代对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="toc-text">3.迭代器</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BC%8D%E3%80%81%E7%94%9F%E6%88%90%E5%99%A8"><span class="toc-text">伍、生成器</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%A4%BA%E4%BE%8B-1"><span class="toc-text">1.示例 1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E7%A4%BA%E4%BE%8B-2"><span class="toc-text">2.示例 2</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%99%86-%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="toc-text">陆 装饰器</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E9%97%AD%E5%8C%85"><span class="toc-text">1.闭包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="toc-text">2.装饰器</span></a></li></ol></li></ol>
        </div>    
    </div>
     -->
</div>

<div id="card-style-fun">
    
    <!-- 今日诗句 -->
    <br />
    <div id="card-div">
        <div class="good-sentence">
            <div class="toolio">
                <div class="circle"><span class="red"></span></div>
                <div class="circle"><span class="yellow"></span></div>
                <div class="circle"><span class="green"></span></div>
                <div class="circle"><span class="text">今日诗句</span></div>
            </div>
            <div class="sentence">
                <div id="sentenceid" onload="getsentence();"></div>
            </div>
        </div>
    </div>
    <!-- 日期信息 -->
    <br />
    <div id="card-div">
        <img src="//api.vvhan.com/api/ipCard?tip=A7cc" width="300" height="180">
    </div>
    
</div>



    </div>
    
</div>
                <!-- 页脚 -->
                <footer id="footer">
    <div id="footer-wrap">
        <div>
            <span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span>
            <script>
                var now = new Date(); 
                function createtime() { 
                    var grt= new Date("07/10/2022 00:00:00");
                    now.setTime(now.getTime()+250); 
                    days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); 
                    hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); 
                    if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); 
                    mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;} 
                    seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
                    snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
                    document.getElementById("timeDate").innerHTML = "已运行 "+dnum+" 天 "; 
                    document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒"; 
                } 
            setInterval("createtime()",250);
            </script>
        </div>
        <div>
            &copy;
            2022 - 2024 小C♥天天
            <span class="footer-icon">
                <i class="fa-brands fa-github fa-fw"></i>
            </span>
            &commat;小C&amp;天天
        </div>
        <div>
            Powered by <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX</a> 
        </div>
        
    </div>
</footer>

            </div>
            <!-- 简单的点击图片放大缩小的预览 -->
            
            <div name="fade">
                <div id="preview" ref="preview" v-show="previewShow">
                    <img id="preview-content" ref="previewContent" />
                </div>
            </div>
            
        </div>
        <!-- 看板娘 -->
        
        <div id="L2dCanvas"></div>
        <script src="/js/lib/live2d.min.js"></script>
        <!-- 设置随机模板 -->
        
        <script>
            var v = new Viewer({
                basePath: "/model",
                role: "aidang_2",
                mobile: true,
            });
        </script>
        
        <!-- 诗句 -->
        
        <script>
            // // 每隔10分钟执行一次getsentence这个函数
            window.setInterval(getsentence, 100*60*5);
            function getsentence() {
                // 这里没有考虑IE浏览器，如果需要择if判断加
                var xhr = new XMLHttpRequest();  
                xhr.open('GET', "https://zj.v.api.aa1.cn/api/wenan-shici/?type=json",true);
                xhr.send(JSON.stringify(null));
                xhr.onreadystatechange = function () {
                    if (xhr.status === 200 && xhr.readyState === 4) {
                        //js处理数据
                        // xhr.responseText.match(/content":(".+?")/g)
                        getdata = JSON.parse(xhr.responseText).msg;
                    }else{
                        getdata = "长风破浪会有时，直挂云帆济沧海。——李白《行路难》";
                    }
                    document.getElementById("sentenceid").innerHTML = getdata;
                }
            }
            window.onload = getsentence;
        </script>
        
        <!-- 点击 -->
        <script>
            let body = document.getElementsByTagName('body')[0];
            body.addEventListener('click', (e) => {
                let contentArr = ['✊','😘','😍','😊','😭','😡','😋','👍','🐷','😱','💷','💵','×','🆗','№','⭐','🌙','♥','💴','☀','🐎','🐂','🐏','√'];
                let randomNum = function (n) {
                    return Math.floor(Math.random() * n)
                }
                let span = document.createElement('span');
                span.innerHTML = `${contentArr[randomNum(contentArr.length)]}`;
                span.style.color = `rgb(${randomNum(256)},${randomNum(256)},${randomNum(256)})`;
                span.style.position = 'absolute';
                span.style.top = `${e.pageY}px`;
                span.style.left = `${e.pageX}px`;
                span.style.transition = 'all 1s ease';
                span.style.zIndex = 20000;
                body.appendChild(span)
                setTimeout(()=>{
                    span.style.top = span.offsetTop - 100 + 'px';
                    span.style.opacity = 0;
                    setTimeout(()=>{span.remove()},700)
                },0)
            })
        </script>
        <!-- 流星背景特效 -->
        
        <canvas id="background" style="position:fixed;top:0;left:0;width:100vw;height:100vh;pointer-events:none;z-index:-1"></canvas>
        <script src="/js/meteorbackground.js"></script>
        
        <script src="/js/main.js"></script>
    </body>
</html>
