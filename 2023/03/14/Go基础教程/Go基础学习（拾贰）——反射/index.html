
<!DOCTYPE html>
<html lang="zh-Hans">
    <head>
        <meta charset="utf-8" />
        <title>GoåŸºç¡€å­¦ä¹ ï¼ˆæ‹¾è´°ï¼‰â€”â€”åå°„ | å°Câ™¥å¤©å¤©</title>
        <meta name="author" content="å°C&å¤©å¤©" />
        <meta name="description" content="^v^" />
        <meta name="keywords" content="" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
        <link rel="icon" href="/images/icon.jpg" />
        <script src="https://static-argvchs.netlify.app/libs/vue/3.3.4/vue.global.prod.min.js"></script>
<link rel="preconnect" href="https://static-argvchs.netlify.app" crossorigin />
<link rel="stylesheet" href="https://static-argvchs.netlify.app/libs/font-awesome/6.4.0/css/all.min.css" />
<link rel="stylesheet" href="https://static-argvchs.netlify.app/css/fonts.min.css" />
<script> const mixins = {}; </script>

<!-- å…¼å®¹ä¸åŒç‰ˆæœ¬çš„æµè§ˆå™¨ -->
<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>


<!-- é«˜äº®ä»£ç  -->
<script src="https://static-argvchs.netlify.app/libs/highlight.js/11.8.0/highlight.min.js"></script>
<script src="https://static-argvchs.netlify.app/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<link rel="stylesheet" href="https://static-argvchs.netlify.app/libs/highlight.js/11.8.0/styles/base16-onedark.min.css" />
<script src="/js/lib/highlight.js"></script>


<!-- ä½¿ç”¨ KaTeX æ¸²æŸ“æ•°å­¦å…¬å¼ -->
<script src="https://static-argvchs.netlify.app/libs/KaTeX/0.16.8/katex.min.js"></script>
<script src="https://static-argvchs.netlify.app/libs/KaTeX/0.16.8/contrib/auto-render.min.js"></script>
<link rel="stylesheet" href="https://static-argvchs.netlify.app/libs/KaTeX/0.16.8/katex.min.css" />
<script src="/js/lib/math.js"></script>


<!-- ç®€å•çš„ç‚¹å‡»å›¾ç‰‡æ”¾å¤§ç¼©å°çš„é¢„è§ˆ -->
<script src="/js/lib/preview.js"></script>


<!-- çœ‹æ¿å¨˜ -->
<script src="https://cdn.staticfile.org/pixi.js/4.6.1/pixi.min.js"></script>




<!-- è¯„è®ºåŠŸèƒ½è®¾ç½® -->






<script src="https://static-argvchs.netlify.app/libs/animejs/3.2.1/anime.min.js"></script>
<link rel="stylesheet" href="/css/main.css" />

    <meta name="generator" content="Hexo 6.2.0"></head>
    <body>
        <div id="layout">
            <!-- é¡µé¢åŠ è½½ -->
            <transition name="fade">
                <div id="loading" v-show="loading">
                    <div id="loading-circle">
                        <h2>LOADING</h2>
                        <p>æ­£åœ¨åŠ è½½</p>
                        <img src="/images/afde9fa65a5742a90b51d6e1211e841e.gif" />
                    </div>
                </div>
            </transition>
            <div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <nav id="desktop-menu">
        <a class="title" href="/">
            <span>å°Câ™¥å¤©å¤©</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;ä¸»é¡µ</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;å…³äº</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;æ–‡ç« </span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;åˆ†ç±»</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;æ ‡ç­¾</span>
        </a>
        
        <a href="/tools">
            <i class="fa-solid fa-tools fa-fw"></i>
            <span>&ensp;å·¥å…·</span>
        </a>
        
    </nav>
    <nav id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;å°Câ™¥å¤©å¤©</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">ä¸»é¡µ</div>
                    </div>
                </a>
                
                <a href="/about">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">å…³äº</div>
                    </div>
                </a>
                
                <a href="/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">æ–‡ç« </div>
                    </div>
                </a>
                
                <a href="/categories">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-bookmark fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">åˆ†ç±»</div>
                    </div>
                </a>
                
                <a href="/tags">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">æ ‡ç­¾</div>
                    </div>
                </a>
                
                <a href="/tools">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tools fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">å·¥å…·</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </nav>
</div>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>

            <div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'">
                <div id="article-posts-wrap" true ref="homePostsWrap">
    <div class="article">
        <div>
            <h1>GoåŸºç¡€å­¦ä¹ ï¼ˆæ‹¾è´°ï¼‰â€”â€”åå°„</h1>
        </div>
        <div class="info">
            <span class="date">
                <span class="icon">
                    <i class="fa-solid fa-calendar fa-fw"></i>
                </span>
                2023/3/14
            </span>
            
            <span class="category">
                <a href="/categories/Go%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/">
                    <span class="icon">
                        <i class="fa-solid fa-bookmark fa-fw"></i>
                    </span>
                    GoåŸºç¡€æ•™ç¨‹
                </a>
            </span>
            
            
            <span class="tags">
                <span class="icon">
                    <i class="fa-solid fa-tags fa-fw"></i>
                </span>
                
                
                <span class="tag">
                    
                    <a href="/tags/%E5%BC%80%E5%8F%91/" style="color: #00a596">å¼€å‘</a>
                </span>
                
                <span class="tag">
                    
                    <a href="/tags/Golang/" style="color: #ffa2c4">Golang</a>
                </span>
                
            </span>
            
        </div>
        
        <div class="content" v-pre>
            <h1 id="å£¹-åå°„ä»‹ç»"><a href="#å£¹-åå°„ä»‹ç»" class="headerlink" title="å£¹ åå°„ä»‹ç»"></a>å£¹ åå°„ä»‹ç»</h1><p>æ ¹æ®å‰é¢å­¦ä¹ æˆ‘ä»¬å¯ä»¥é€šè¿‡fmtåŒ…å’Œç±»å‹æ–­è¨€è¿›è¡Œè¯†åˆ«åˆ¤æ–­æ•°æ®çš„ç±»å‹å’Œå€¼ï¼Œä½†æ˜¯fmtåŒ…åªèƒ½æ˜¯ç›´è§‚çš„æŸ¥çœ‹è¾“å‡ºï¼Œå¹¶ä¸èƒ½åœ¨ç¨‹åºè¿è¡Œæ—¶è®©è®¡ç®—æœºäº†è§£è¯†åˆ«æ•°æ®ï¼Œè€Œæ–­è¨€ç±»å‹åªæ˜¯é’ˆå¯¹æ¥å£çš„ï¼Œå¯¹äºå…¶ä»–ç±»å‹å°±çˆ±è«èƒ½åŠ©äº†ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦å¼•å…¥åå°„ï¼Œå†µä¸”fmtåŒ…æœ¬è´¨ä¹Ÿæ˜¯ä½¿ç”¨çš„åå°„ï¼Œè·å–æ•°æ®ç±»å‹å’Œå€¼ã€‚</p>
<span id="more"></span>
<p>åå°„æ˜¯æŒ‡åœ¨ç¨‹åºè¿è¡ŒæœŸå¯¹ç¨‹åºæœ¬èº«è¿›è¡Œè®¿é—®å’Œä¿®æ”¹çš„èƒ½åŠ›ã€‚ç¨‹åºåœ¨ç¼–è¯‘æ—¶ï¼Œå˜é‡è¢«è½¬æ¢ä¸ºå†…å­˜åœ°å€ï¼Œå˜é‡åä¸ä¼šè¢«ç¼–è¯‘å™¨å†™å…¥åˆ°å¯æ‰§è¡Œéƒ¨åˆ†ã€‚åœ¨è¿è¡Œç¨‹åºæ—¶ï¼Œç¨‹åºæ— æ³•è·å–è‡ªèº«çš„ä¿¡æ¯ã€‚</p>
<ul>
<li>å°æ’æ›²â€”â€”å˜é‡çš„å†…åœ¨æœºåˆ¶</li>
<li>Goè¯­è¨€ä¸­çš„å˜é‡æ˜¯åˆ†ä¸ºä¸¤éƒ¨åˆ†çš„ï¼š<ul>
<li>ç±»å‹ä¿¡æ¯ï¼šé¢„å…ˆå®šä¹‰å¥½çš„å…ƒä¿¡æ¯ã€‚</li>
<li>å€¼ä¿¡æ¯ï¼šç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­å¯åŠ¨æ€å˜åŒ–çš„ã€‚</li>
</ul>
</li>
</ul>
<p>æ”¯æŒåå°„çš„è¯­è¨€å¯ä»¥åœ¨ç¨‹åºç¼–è¯‘æœŸå°†å˜é‡çš„åå°„ä¿¡æ¯ï¼Œå¦‚å­—æ®µåç§°ã€ç±»å‹ä¿¡æ¯ã€ç»“æ„ä½“ä¿¡æ¯ç­‰æ•´åˆåˆ°å¯æ‰§è¡Œæ–‡ä»¶ä¸­ï¼Œå¹¶ç»™ç¨‹åºæä¾›æ¥å£è®¿é—®åå°„ä¿¡æ¯ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨ç¨‹åºè¿è¡ŒæœŸè·å–ç±»å‹çš„åå°„ä¿¡æ¯ï¼Œå¹¶ä¸”æœ‰èƒ½åŠ›ä¿®æ”¹å®ƒä»¬ã€‚Goç¨‹åºåœ¨è¿è¡ŒæœŸä½¿ç”¨<code>reflect</code>åŒ…è®¿é—®ç¨‹åºçš„åå°„ä¿¡æ¯ã€‚</p>
<p>ç©ºæ¥å£å¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹çš„å˜é‡ï¼Œé‚£æˆ‘ä»¬å¦‚ä½•çŸ¥é“è¿™ä¸ªç©ºæ¥å£ä¿å­˜çš„æ•°æ®æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ åå°„å°±æ˜¯åœ¨è¿è¡Œæ—¶åŠ¨æ€çš„è·å–ä¸€ä¸ªå˜é‡çš„ç±»å‹ä¿¡æ¯å’Œå€¼ä¿¡æ¯ã€‚<font color="red">åå°„å°±æ˜¯åœ¨è¿è¡Œæ—¶åŠ¨æ€çš„è·å–ä¸€ä¸ªå˜é‡çš„ç±»å‹ä¿¡æ¯å’Œå€¼ä¿¡æ¯ã€‚</font></p>
<h1 id="è´°-reflectåŒ…"><a href="#è´°-reflectåŒ…" class="headerlink" title="è´° reflectåŒ…"></a>è´° reflectåŒ…</h1><p>åœ¨Goè¯­è¨€çš„åå°„æœºåˆ¶ä¸­ï¼Œä»»ä½•æ¥å£å€¼éƒ½ç”±æ˜¯<code>ä¸€ä¸ªå…·ä½“ç±»å‹</code>å’Œ<code>å…·ä½“ç±»å‹çš„å€¼</code>ä¸¤éƒ¨åˆ†ç»„æˆçš„ã€‚ åœ¨Goè¯­è¨€ä¸­åå°„çš„ç›¸å…³åŠŸèƒ½ç”±å†…ç½®çš„reflectåŒ…æä¾›ï¼Œä»»æ„æ¥å£å€¼åœ¨åå°„ä¸­éƒ½å¯ä»¥ç†è§£ä¸ºç”±<code>reflect.Type</code>å’Œ<code>reflect.Value</code>ä¸¤éƒ¨åˆ†ç»„æˆï¼Œå¹¶ä¸”reflectåŒ…æä¾›äº†<code>reflect.TypeOf</code>å’Œ<code>reflect.ValueOf</code>ä¸¤ä¸ªå‡½æ•°æ¥è·å–ä»»æ„å¯¹è±¡çš„Valueå’ŒTypeã€‚</p>
<h1 id="å-reflect-TypeOfâ€”â€”æŸ¥çœ‹ç±»å‹"><a href="#å-reflect-TypeOfâ€”â€”æŸ¥çœ‹ç±»å‹" class="headerlink" title="å reflect.TypeOfâ€”â€”æŸ¥çœ‹ç±»å‹"></a>å reflect.TypeOfâ€”â€”æŸ¥çœ‹ç±»å‹</h1><h2 id="3-1-TypeOfå‡½æ•°ä»‹ç»"><a href="#3-1-TypeOfå‡½æ•°ä»‹ç»" class="headerlink" title="3.1 TypeOfå‡½æ•°ä»‹ç»"></a>3.1 TypeOfå‡½æ•°ä»‹ç»</h2><p>åœ¨Goè¯­è¨€ä¸­ï¼Œä½¿ç”¨<code>reflect.TypeOf()</code>å‡½æ•°å¯ä»¥è·å¾—ä»»æ„å€¼çš„ç±»å‹å¯¹è±¡ï¼ˆreflect.Typeï¼‰ï¼Œç¨‹åºé€šè¿‡ç±»å‹å¯¹è±¡å¯ä»¥è®¿é—®ä»»æ„å€¼çš„ç±»å‹ä¿¡æ¯ã€‚</p>
<pre><code class="go">func main() &#123;
    var a float32 = 3.14
    fmt.Printf(&quot;valueï¼š%v\ttypeï¼š%T\n&quot;, reflect.TypeOf(a), reflect.TypeOf(a)) // valueï¼šfloat32  typeï¼š*reflect.rtype
    var b int64 = 100
    fmt.Printf(&quot;valueï¼š%v\ttypeï¼š%T\n&quot;, reflect.TypeOf(b), reflect.TypeOf(b)) // valueï¼šint64    typeï¼š*reflect.rtype
&#125;
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ä½¿ç”¨<code>reflect.TypeOf()</code>çš„å€¼æ˜¯å¯¹åº”çš„ç±»å‹ï¼Œå…¶ç±»å‹æ˜¯<code>*reflect.rtype</code>ã€‚</p>
<h2 id="3-2-Nameå‡½æ•°å’ŒKindå‡½æ•°"><a href="#3-2-Nameå‡½æ•°å’ŒKindå‡½æ•°" class="headerlink" title="3.2 Nameå‡½æ•°å’ŒKindå‡½æ•°"></a>3.2 Nameå‡½æ•°å’ŒKindå‡½æ•°</h2><p>åœ¨åå°„ä¸­å…³äºç±»å‹è¿˜åˆ’åˆ†ä¸ºä¸¤ç§ï¼š<code>ç±»å‹ï¼ˆTypeï¼‰</code>å’Œ<code>ç§ç±»ï¼ˆKindï¼‰</code>ã€‚å› ä¸ºåœ¨Goè¯­è¨€ä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨typeå…³é”®å­—æ„é€ å¾ˆå¤šè‡ªå®šä¹‰ç±»å‹ï¼Œè€Œ<code>ç§ç±»ï¼ˆKindï¼‰</code>å°±æ˜¯æŒ‡åº•å±‚çš„ç±»å‹ï¼Œä½†åœ¨åå°„ä¸­ï¼Œå½“éœ€è¦åŒºåˆ†æŒ‡é’ˆã€ç»“æ„ä½“ç­‰å¤§å“ç§çš„ç±»å‹æ—¶ï¼Œå°±ä¼šç”¨åˆ°<code>ç§ç±»ï¼ˆKindï¼‰</code>ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªæŒ‡é’ˆç±»å‹å’Œä¸¤ä¸ªç»“æ„ä½“ç±»å‹ï¼Œé€šè¿‡åå°„æŸ¥çœ‹å®ƒä»¬çš„ç±»å‹å’Œç§ç±»ã€‚</p>
<pre><code class="go">package main

import (
    &quot;fmt&quot;
    &quot;reflect&quot;
)

type myInt int64

// åˆ›å»ºä¸€ä¸ªå‡½æ•°æ–¹ä¾¿è¾“å‡ºï¼Œå› ä¸ºç©ºæ¥å£å¯ä»¥æ¥æ”¶ä»»æ„å€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨ç©ºæ¥å£åšå‚æ•°
func reflectType(x interface&#123;&#125;) &#123;
    t := reflect.TypeOf(x)
    fmt.Printf(&quot;Nameå‡½æ•°ï¼štype=%T\tvalue=%v\t&quot;, t.Name(), t.Name())
    fmt.Printf(&quot;Kindå‡½æ•°ï¼štype=%T\tvalue=%v\n&quot;, t.Kind(), t.Kind())
&#125;

func main() &#123;
    var a *float32 // æŒ‡é’ˆ
    var b myInt    // è‡ªå®šä¹‰ç±»å‹
    var c rune     // ç±»å‹åˆ«å
    reflectType(a) // Nameå‡½æ•°ï¼štype=string   value=   		   Kindå‡½æ•°ï¼štype=reflect.Kind     value=ptr
    reflectType(b) // Nameå‡½æ•°ï¼štype=string   value=myInt      Kindå‡½æ•°ï¼štype=reflect.Kind     value=int64
    reflectType(c) // Nameå‡½æ•°ï¼štype=string   value=int32      Kindå‡½æ•°ï¼štype=reflect.Kind     value=int32

    type person struct &#123;
        name string
        age  int
    &#125;
    type book struct&#123; title string &#125;
    var d = person&#123;
        name: &quot;A7cc&quot;,
        age:  18,
    &#125;
    var e = book&#123;title: &quot;ä¸€åªç‰¹ç«‹ç‹¬è¡Œçš„çŒª&quot;&#125;
    reflectType(d) // Nameå‡½æ•°ï¼štype=string   value=person     Kindå‡½æ•°ï¼štype=reflect.Kind     value=struct
    reflectType(e) // Nameå‡½æ•°ï¼štype=string   value=book       Kindå‡½æ•°ï¼štype=reflect.Kind     value=struct
&#125;
</code></pre>
<p>å¯ä»¥çœ‹åˆ°<code>Name</code>å‡½æ•°è¿”å›çš„æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œå€¼æ˜¯å½“å‰ç±»å‹ï¼Œè€Œ<code>Kind</code>å‡½æ•°è¿”å›çš„<code>reflect.Kind</code>ç±»å‹ï¼Œå€¼æ˜¯åº•å±‚ç±»å‹ã€‚</p>
<p><font color="red">Goè¯­è¨€çš„åå°„ä¸­åƒæ•°ç»„ã€åˆ‡ç‰‡ã€Mapã€æŒ‡é’ˆç­‰ç±»å‹çš„å˜é‡ï¼Œå®ƒä»¬çš„<code>.Name()</code>éƒ½æ˜¯è¿”å›<code>ç©º</code>ï¼Œä¸ªäººè§‰å¾—ä»–ä»¬æœ¬è´¨å°±æ˜¯æŒ‡é’ˆï¼ŒæŒ‡é’ˆæœ¬èº«ä¸å±äºåŸºæœ¬ç±»å‹ï¼Œè€Œæ˜¯ä¸€ç§åœ°å€ç±»å‹ã€‚</font></p>
<p>åœ¨<code>reflect</code>åŒ…ä¸­å®šä¹‰çš„Kindç±»å‹å¦‚ä¸‹ï¼š</p>
<pre><code class="go">type Kind uint

const (
    Invalid       Kind = iota // éæ³•ç±»å‹
    Bool                      // å¸ƒå°”å‹
    Int                       // æœ‰ç¬¦å·æ•´å‹
    Int8                      // æœ‰ç¬¦å·8ä½æ•´å‹
    Int16                     // æœ‰ç¬¦å·16ä½æ•´å‹
    Int32                     // æœ‰ç¬¦å·32ä½æ•´å‹
    Int64                     // æœ‰ç¬¦å·64ä½æ•´å‹
    Uint                      // æ— ç¬¦å·æ•´å‹
    Uint8                     // æ— ç¬¦å·8ä½æ•´å‹
    Uint16                    // æ— ç¬¦å·16ä½æ•´å‹
    Uint32                    // æ— ç¬¦å·32ä½æ•´å‹
    Uint64                    // æ— ç¬¦å·64ä½æ•´å‹
    Uintptr                   // æŒ‡é’ˆ
    Float32                   // å•ç²¾åº¦æµ®ç‚¹æ•°
    Float64                   // åŒç²¾åº¦æµ®ç‚¹æ•°
    Complex64                 // 64ä½å¤æ•°ç±»å‹
    Complex128                // 128ä½å¤æ•°ç±»å‹
    Array                     // æ•°ç»„
    Chan                      // é€šé“
    Func                      // å‡½æ•°
    Interface                 // æ¥å£
    Map                       // æ˜ å°„
    Ptr                       // æŒ‡é’ˆ
    Slice                     // åˆ‡ç‰‡
    String                    // å­—ç¬¦ä¸²
    Struct                    // ç»“æ„ä½“
    UnsafePointer             // åº•å±‚æŒ‡é’ˆ
)
</code></pre>
<h1 id="è‚†-reflect-ValueOfâ€”â€”æŸ¥çœ‹å€¼"><a href="#è‚†-reflect-ValueOfâ€”â€”æŸ¥çœ‹å€¼" class="headerlink" title="è‚† reflect.ValueOfâ€”â€”æŸ¥çœ‹å€¼"></a>è‚† reflect.ValueOfâ€”â€”æŸ¥çœ‹å€¼</h1><h2 id="4-1-ValueOfå‡½æ•°ä»‹ç»"><a href="#4-1-ValueOfå‡½æ•°ä»‹ç»" class="headerlink" title="4.1 ValueOfå‡½æ•°ä»‹ç»"></a>4.1 ValueOfå‡½æ•°ä»‹ç»</h2><p><code>reflect.ValueOf()</code>è¿”å›çš„æ˜¯<code>reflect.Value</code>ç±»å‹ï¼Œå…¶ä¸­åŒ…å«äº†åŸå§‹å€¼çš„å€¼ä¿¡æ¯ã€‚<code>reflect.Value</code>ä¸åŸå§‹å€¼ä¹‹é—´å¯ä»¥äº’ç›¸è½¬æ¢ã€‚</p>
<p><code>reflect.Value</code>ç±»å‹æä¾›çš„è·å–åŸå§‹å€¼çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>æ–¹æ³•åä»¥åŠç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>Interface() interface&#123;&#125;</code></td>
<td>å°†å€¼ä»¥ <code>interface&#123;&#125;</code> ç±»å‹è¿”å›ï¼Œå¯ä»¥é€šè¿‡ç±»å‹æ–­è¨€è½¬æ¢ä¸ºæŒ‡å®šç±»å‹</td>
</tr>
<tr>
<td><code>Int() int64</code></td>
<td>å°†å€¼ä»¥ <code>int</code> ç±»å‹è¿”å›ï¼Œæ‰€æœ‰æœ‰ç¬¦å·æ•´å‹å‡å¯ä»¥æ­¤æ–¹å¼è¿”å›</td>
</tr>
<tr>
<td><code>Uint() uint64</code></td>
<td>å°†å€¼ä»¥ <code>uint</code> ç±»å‹è¿”å›ï¼Œæ‰€æœ‰æ— ç¬¦å·æ•´å‹å‡å¯ä»¥æ­¤æ–¹å¼è¿”å›</td>
</tr>
<tr>
<td><code>Float() float64</code></td>
<td>å°†å€¼ä»¥åŒç²¾åº¦ï¼ˆ<code>float64</code>ï¼‰ç±»å‹è¿”å›ï¼Œæ‰€æœ‰æµ®ç‚¹æ•°ï¼ˆ<code>float32</code>ã€<code>float64</code>ï¼‰å‡å¯ä»¥æ­¤æ–¹å¼è¿”å›</td>
</tr>
<tr>
<td><code>Bool() bool</code></td>
<td>å°†å€¼ä»¥ bool ç±»å‹è¿”å›</td>
</tr>
<tr>
<td><code>Bytes() []bytes</code></td>
<td>å°†å€¼ä»¥å­—èŠ‚æ•°ç»„ <code>[]bytes</code> ç±»å‹è¿”å›</td>
</tr>
<tr>
<td><code>String() string</code></td>
<td>å°†å€¼ä»¥å­—ç¬¦ä¸²ç±»å‹è¿”å›</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id="4-3-é€šè¿‡åå°„è·å–å€¼"><a href="#4-3-é€šè¿‡åå°„è·å–å€¼" class="headerlink" title="4.3 é€šè¿‡åå°„è·å–å€¼"></a>4.3 é€šè¿‡åå°„è·å–å€¼</h2><pre><code class="go">func reflectValue(x interface&#123;&#125;) &#123;
    v := reflect.ValueOf(x)
    // ValueOfåªèƒ½ä½¿ç”¨Kindå‡½æ•°è·å–ç§ç±»ï¼Œä¸èƒ½ä½¿ç”¨Nameå‡½æ•°è·å–ç±»å‹
    // å…¶å®æˆ‘ä»¬å¯ä»¥è”æƒ³ä¸‹ï¼Œå¦‚æœå¯ä»¥ä½¿ç”¨Nameå‡½æ•°ï¼Œé‚£ä¹ˆå¯¹äºæŒ‡é’ˆã€åˆ‡ç‰‡ã€mapï¼Œè¿”å›çš„å°±æ˜¯ä¸€ä¸ªç©ºï¼Œå°±ä¸èƒ½åˆ¤æ–­ç±»å‹äº†
    k := v.Kind()
    //åœ¨è¿™é‡Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨reflectç±»å‹åˆ¤æ–­ï¼Œå³ï¼šreflect.Kindç±»å‹ï¼Œè€Œä¸æ˜¯ç®€å•çš„intã€float32ç­‰åˆ¤æ–­
    switch k &#123;
    // è¿™é‡Œçš„reflectæ˜¯åœ¨`reflect`åŒ…ä¸­å®šä¹‰çš„Kindç±»å‹
    case reflect.Int64:
        // v.Int()ä»åå°„ä¸­è·å–æ•´å‹çš„åŸå§‹å€¼ï¼Œç„¶åé€šè¿‡int64()å¼ºåˆ¶ç±»å‹è½¬æ¢
        fmt.Printf(&quot;typeï¼š%T, valueï¼š%v\n&quot;, v.Int(), v.Int())
    case reflect.Float32:
        // v.Float()ä»åå°„ä¸­è·å–æµ®ç‚¹å‹çš„åŸå§‹å€¼ï¼Œç„¶åé€šè¿‡float32()å¼ºåˆ¶ç±»å‹è½¬æ¢
        fmt.Printf(&quot;typeï¼š%T, valueï¼š%v\n&quot;, v.Float(), v.Float())
    case reflect.Map:
        // v.Float()ä»åå°„ä¸­è·å–æµ®ç‚¹å‹çš„åŸå§‹å€¼ï¼Œç„¶åé€šè¿‡float64()å¼ºåˆ¶ç±»å‹è½¬æ¢
        fmt.Printf(&quot;typeï¼š%T, valueï¼š%v\n&quot;, v.Float(), v.Float())
    &#125;
&#125;
func main() &#123;
    var a float32 = 3.14
    var b int64 = 100
    reflectValue(a) // typeï¼šfloat32, valueï¼š3.140000
    reflectValue(b) // typeï¼šint64, valueï¼š100
    // å°†intç±»å‹çš„åŸå§‹å€¼è½¬æ¢ä¸ºreflect.Valueç±»å‹
    c := reflect.ValueOf(10)
    // éœ€è¦åŒºåˆ«è¿™é‡Œçš„ç±»å‹æ˜¯è¿”å›ç›´æ¥ä½¿ç”¨äº†reflect.ValueOfçš„ç±»å‹ï¼Œè€Œä¸æ˜¯ä¸Šé¢reflectValueå‡½æ•°ä½¿ç”¨äº†reflect.ValueOfå†è·å–åŸå§‹å€¼çš„ç±»å‹
    fmt.Printf(&quot;å…³äºreflect.ValueOfç±»å‹ï¼štype=%T, value=%v\n&quot;, c, c) // å…³äºreflect.ValueOfç±»å‹ï¼štype=reflect.Value, value=10
&#125;
</code></pre>
<p>ä½¿ç”¨<code>reflect.ValueOf</code>å‡½æ•°è¿”å›çš„å€¼çš„ç±»å‹æ˜¯<code>reflect.Value</code>ï¼Œè€Œä½¿ç”¨<code>reflect.Value</code>ç±»å‹æ–¹æ³•è¿”å›çš„ç±»å‹æ˜¯å¯¹åº”çš„åŸºç¡€ç±»å‹ã€‚</p>
<h2 id="4-4-é€šè¿‡åå°„è®¾ç½®å˜é‡çš„å€¼â€”â€”Elemå‡½æ•°"><a href="#4-4-é€šè¿‡åå°„è®¾ç½®å˜é‡çš„å€¼â€”â€”Elemå‡½æ•°" class="headerlink" title="4.4 é€šè¿‡åå°„è®¾ç½®å˜é‡çš„å€¼â€”â€”Elemå‡½æ•°"></a>4.4 é€šè¿‡åå°„è®¾ç½®å˜é‡çš„å€¼â€”â€”Elemå‡½æ•°</h2><p>æƒ³è¦åœ¨å‡½æ•°ä¸­é€šè¿‡åå°„ä¿®æ”¹å˜é‡çš„å€¼ï¼Œéœ€è¦æ³¨æ„å‡½æ•°å‚æ•°ä¼ é€’çš„æ˜¯å€¼æ‹·è´ï¼Œå¿…é¡»ä¼ é€’å˜é‡åœ°å€æ‰èƒ½ä¿®æ”¹å˜é‡å€¼ã€‚è€Œåå°„ä¸­ä½¿ç”¨ä¸“æœ‰çš„<code>Elem()</code>æ–¹æ³•æ¥è·å–æŒ‡é’ˆå¯¹åº”çš„å€¼ï¼Œä½¿ç”¨è¿™ä¸ªå‡½æ•°éœ€è¦çš„æ˜¯<code>reflect.ValueOf</code>ç±»å‹ã€‚</p>
<pre><code class="go">package main

import (
    &quot;fmt&quot;
    &quot;reflect&quot;
)

func reflectSetValue1(x interface&#123;&#125;) &#123;
    v := reflect.ValueOf(x)
    if v.Kind() == reflect.Int64 &#123;
        v.SetInt(200) //ä¿®æ”¹çš„æ˜¯å‰¯æœ¬ï¼ŒreflectåŒ…ä¼šå¼•å‘panicï¼Œä¸ªäººç†è§£æ˜¯SetIntå†…éƒ¨å®ç°éœ€è¦çš„æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œä¸æ˜¯ä¸€ä¸ªç¡®åˆ‡çš„å€¼
    &#125;
&#125;
func reflectSetValue2(x interface&#123;&#125;) &#123;
    v := reflect.ValueOf(x)
    // åå°„ä¸­ä½¿ç”¨ Elem()æ–¹æ³•è·å–æŒ‡é’ˆå¯¹åº”çš„å€¼
    if v.Elem().Kind() == reflect.Int64 &#123;
        v.Elem().SetInt(200)
    &#125;
&#125;
func main() &#123;
    var a int64 = 100
    // reflectSetValue1(a) //panic: reflect: reflect.Value.SetInt using unaddressable value
    reflectSetValue2(&amp;a)
    fmt.Println(a)
&#125;
</code></pre>
<h2 id="4-5-isNilå‡½æ•°å’ŒisValidå‡½æ•°"><a href="#4-5-isNilå‡½æ•°å’ŒisValidå‡½æ•°" class="headerlink" title="4.5 isNilå‡½æ•°å’ŒisValidå‡½æ•°"></a>4.5 isNilå‡½æ•°å’ŒisValidå‡½æ•°</h2><p>åœ¨ä½¿ç”¨è¿™ä¸¤ä¸ªå‡½æ•°æ—¶éƒ½éœ€è¦æ˜¯<code>reflect.ValueOf</code>ç±»å‹ã€‚</p>
<h3 id="4-5-1-isNilå‡½æ•°"><a href="#4-5-1-isNilå‡½æ•°" class="headerlink" title="4.5.1 isNilå‡½æ•°"></a>4.5.1 isNilå‡½æ•°</h3><pre><code class="go">func (v Value) IsNil() bool
</code></pre>
<p><code>IsNil()</code>æ˜¯åˆ¤æ–­vè¿™ä¸ªå˜é‡æŒæœ‰çš„å€¼æ˜¯ä¸æ˜¯ä¸ºnilï¼Œè€Œä¸æ˜¯0ï¼Œä¸€èˆ¬ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæŒ‡é’ˆã€åˆ‡ç‰‡ç­‰æ˜¯å¦åˆå§‹åŒ–ï¼Œæ‰€ä»¥væŒæœ‰çš„å€¼çš„åˆ†ç±»å¿…é¡»æ˜¯é€šé“ã€å‡½æ•°ã€æ¥å£ã€æ˜ å°„ã€æŒ‡é’ˆã€åˆ‡ç‰‡ä¹‹ä¸€ï¼›å¦åˆ™IsNilå‡½æ•°ä¼šå¯¼è‡´panicã€‚<code>IsNil()</code>å¸¸è¢«ç”¨äºåˆ¤æ–­æŒ‡é’ˆæ˜¯å¦ä¸ºç©ºã€‚</p>
<pre><code class="go">// ä¾‹å­
func main() &#123;
    // *intç±»å‹ç©ºæŒ‡é’ˆ
    var a *int
    fmt.Println(&quot;aæŒ‡é’ˆçš„å€¼æ˜¯å¦æ˜¯ä¸ºç©º:&quot;, reflect.ValueOf(a).IsNil())	// aæŒ‡é’ˆçš„å€¼æ˜¯å¦æ˜¯ä¸ºç©º: true
    // ä¸èƒ½ä¸ºåŸºç¡€ç±»å‹ï¼ŒåŒæ—¶å¯ä»¥çœ‹åˆ°ä½¿ç”¨åå°„æ—¶ï¼Œå†ä¸è¿è¡Œçš„æƒ…å†µä¸‹ï¼Œä¸ä¼šè½»æ˜“æŠ¥é”™ï¼Œå½“è¿è¡Œæ‰ä¼šæŠ¥é”™
    // var b int
    // fmt.Println(&quot;bæŒ‡é’ˆçš„å€¼æ˜¯å¦æ˜¯ä¸ºç©º:&quot;, reflect.ValueOf(b).IsNil())
&#125;
</code></pre>
<h3 id="4-5-2-isValidå‡½æ•°"><a href="#4-5-2-isValidå‡½æ•°" class="headerlink" title="4.5.2 isValidå‡½æ•°"></a>4.5.2 isValidå‡½æ•°</h3><pre><code class="go">func (v Value) IsValid() bool
</code></pre>
<p><code>IsValid()</code>æ˜¯åˆ¤æ–­væ˜¯å¦æŒæœ‰ä¸€ä¸ªå€¼ï¼Œä¸<code>isNil</code>å‡½æ•°ä¸åŒï¼ŒåŒæ—¶æŒæœ‰ä¸æ˜¯åˆ¤æ–­å€¼æ˜¯å¦ä¸ºnilã€‚å¦‚æœvæ˜¯Valueé›¶å€¼ä¼šè¿”å›å‡ï¼Œæ­¤æ—¶vé™¤äº†IsValidã€Stringã€Kindä¹‹å¤–çš„æ–¹æ³•éƒ½ä¼šå¯¼è‡´panicã€‚<code>IsValid()</code>å¸¸è¢«ç”¨äºåˆ¤å®šè¿”å›å€¼æ˜¯å¦æœ‰æ•ˆã€‚</p>
<pre><code class="go">// ä¾‹å­
func main() &#123;
    // nilå€¼
    fmt.Println(&quot;nil IsValid:&quot;, reflect.ValueOf(nil).IsValid()) // nil IsValid: false
    // å®ä¾‹åŒ–ä¸€ä¸ªåŒ¿åç»“æ„ä½“
    b := struct&#123;&#125;&#123;&#125;
    // å°è¯•ä»ç»“æ„ä½“ä¸­æŸ¥æ‰¾&quot;abc&quot;å­—æ®µ
    // FieldByNameæ–¹æ³•æ˜¯æ ¹æ®ç»™å®šå­—ç¬¦ä¸²è¿”å›å­—ç¬¦ä¸²å¯¹åº”çš„ç»“æ„ä½“å­—æ®µçš„ä¿¡æ¯ï¼Œä¸‹é¢çš„ç»“æ„ä½“åå°„ä¼šè®²è§£
    fmt.Println(&quot;ä¸å­˜åœ¨çš„ç»“æ„ä½“æˆå‘˜:&quot;, reflect.ValueOf(b).FieldByName(&quot;abc&quot;).IsValid()) // ä¸å­˜åœ¨çš„ç»“æ„ä½“æˆå‘˜: false
    // å°è¯•ä»ç»“æ„ä½“ä¸­æŸ¥æ‰¾&quot;abc&quot;æ–¹æ³•
    // MethodByNameæ–¹æ³•æ˜¯æ ¹æ®æ–¹æ³•åè¿”å›è¯¥ç±»å‹æ–¹æ³•é›†ä¸­çš„æ–¹æ³•ï¼Œä¸‹é¢çš„ç»“æ„ä½“åå°„ä¼šè®²è§£
    fmt.Println(&quot;ä¸å­˜åœ¨çš„ç»“æ„ä½“æ–¹æ³•:&quot;, reflect.ValueOf(b).MethodByName(&quot;abc&quot;).IsValid()) // ä¸å­˜åœ¨çš„ç»“æ„ä½“æ–¹æ³•: false

    // map
    c := map[string]int&#123;&#125;
    // å°è¯•ä»mapä¸­æŸ¥æ‰¾ä¸€ä¸ªä¸å­˜åœ¨çš„é”®
    fmt.Println(&quot;mapä¸­ä¸å­˜åœ¨çš„é”®ï¼š&quot;, reflect.ValueOf(c).MapIndex(reflect.ValueOf(&quot;abc&quot;)).IsValid()) // mapä¸­ä¸å­˜åœ¨çš„é”®ï¼š false
&#125;
</code></pre>
<h1 id="ä¼-ç»“æ„ä½“åå°„"><a href="#ä¼-ç»“æ„ä½“åå°„" class="headerlink" title="ä¼ ç»“æ„ä½“åå°„"></a>ä¼ ç»“æ„ä½“åå°„</h1><h2 id="5-1-StructFieldç±»å‹"><a href="#5-1-StructFieldç±»å‹" class="headerlink" title="5.1 StructFieldç±»å‹"></a>5.1 StructFieldç±»å‹</h2><p><code>StructField</code>ç±»å‹ç”¨æ¥æè¿°ç»“æ„ä½“ä¸­çš„ä¸€ä¸ªå­—æ®µçš„ä¿¡æ¯ï¼Œè¯¥ç±»å‹æ˜¯æè¿°ç»“æ„ä½“ä¸­éå¸¸é‡è¦çš„ç±»å‹ï¼Œ<code>StructField</code>çš„å®šä¹‰å¦‚ä¸‹ï¼š</p>
<pre><code class="go">type StructField struct &#123;
    // Nameæ˜¯å­—æ®µçš„åå­—ã€‚PkgPathæ˜¯éå¯¼å‡ºå­—æ®µçš„åŒ…è·¯å¾„ï¼Œå¯¹å¯¼å‡ºå­—æ®µè¯¥å­—æ®µä¸º&quot;&quot;ã€‚
    // å‚è§http://golang.org/ref/spec#Uniqueness_of_identifiers
    Name      string
    PkgPath   string
    Type      Type      // å­—æ®µçš„ç±»å‹
    Tag       StructTag // å­—æ®µçš„æ ‡ç­¾
    Offset    uintptr   // å­—æ®µåœ¨ç»“æ„ä½“ä¸­çš„å­—èŠ‚åç§»é‡
    Index     []int     // ç”¨äºType.FieldByIndexæ—¶çš„ç´¢å¼•åˆ‡ç‰‡
    Anonymous bool      // æ˜¯å¦åŒ¿åå­—æ®µ
&#125;
</code></pre>
<h2 id="5-2-ä¸ç»“æ„ä½“ç›¸å…³çš„æ–¹æ³•"><a href="#5-2-ä¸ç»“æ„ä½“ç›¸å…³çš„æ–¹æ³•" class="headerlink" title="5.2 ä¸ç»“æ„ä½“ç›¸å…³çš„æ–¹æ³•"></a>5.2 ä¸ç»“æ„ä½“ç›¸å…³çš„æ–¹æ³•</h2><p>ä»»æ„å€¼é€šè¿‡<code>reflect.TypeOf()</code>è·å¾—åå°„å¯¹è±¡ä¿¡æ¯åï¼Œå¦‚æœå®ƒçš„ç±»å‹æ˜¯ç»“æ„ä½“ï¼Œå¯ä»¥é€šè¿‡åå°„å€¼å¯¹è±¡ï¼ˆ<code>reflect.Type</code>ï¼‰çš„<code>NumField()</code>å’Œ<code>Field()</code>æ–¹æ³•è·å¾—ç»“æ„ä½“æˆå‘˜çš„è¯¦ç»†ä¿¡æ¯ã€‚</p>
<p><code>reflect.Type</code>ä¸­ä¸è·å–ç»“æ„ä½“æˆå‘˜ç›¸å…³çš„çš„æ–¹æ³•å¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚</p>
<table>
<thead>
<tr>
<th>æ–¹æ³•åä»¥åŠè¿”å›ç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>Field(i int) StructField</td>
<td>æ ¹æ®ç´¢å¼•ï¼Œè¿”å›ç´¢å¼•å¯¹åº”çš„ç»“æ„ä½“å­—æ®µçš„ä¿¡æ¯ã€‚</td>
</tr>
<tr>
<td>NumField() int</td>
<td>è¿”å›ç»“æ„ä½“æˆå‘˜å­—æ®µæ•°é‡ã€‚</td>
</tr>
<tr>
<td>FieldByName(name string) (StructField, bool)</td>
<td>æ ¹æ®ç»™å®šå­—ç¬¦ä¸²è¿”å›å­—ç¬¦ä¸²å¯¹åº”çš„ç»“æ„ä½“å­—æ®µçš„ä¿¡æ¯ã€‚</td>
</tr>
<tr>
<td>FieldByIndex(index []int) StructField</td>
<td>å¤šå±‚æˆå‘˜è®¿é—®æ—¶ï¼Œæ ¹æ® []int æä¾›çš„æ¯ä¸ªç»“æ„ä½“çš„å­—æ®µç´¢å¼•ï¼Œè¿”å›å­—æ®µçš„ä¿¡æ¯ã€‚</td>
</tr>
<tr>
<td>FieldByNameFunc(match func(string) bool) (StructField,bool)</td>
<td>æ ¹æ®ä¼ å…¥çš„åŒ¹é…å‡½æ•°åŒ¹é…éœ€è¦çš„å­—æ®µã€‚</td>
</tr>
<tr>
<td>NumMethod() int</td>
<td>è¿”å›è¯¥ç±»å‹çš„æ–¹æ³•é›†ä¸­æ–¹æ³•çš„æ•°ç›®</td>
</tr>
<tr>
<td>Method(int) Method</td>
<td>è¿”å›è¯¥ç±»å‹æ–¹æ³•é›†ä¸­çš„ç¬¬iä¸ªæ–¹æ³•</td>
</tr>
<tr>
<td>MethodByName(string) Method</td>
<td>æ ¹æ®æ–¹æ³•åè¿”å›è¯¥ç±»å‹æ–¹æ³•é›†ä¸­çš„æ–¹æ³•</td>
</tr>
</tbody></table>
<pre><code class="go">// ä¾‹å­
package main

import (
    &quot;fmt&quot;
    &quot;reflect&quot;
)

type student struct &#123;
    Name   string `json:&quot;name&quot;`
    Gender string `json:&quot;gender&quot;`
    Age    int    `json:&quot;age&quot;`
&#125;

// ç»™studentæ·»åŠ ä¸¤ä¸ªæ–¹æ³• Studyå’ŒSleep(æ³¨æ„é¦–å­—æ¯å¤§å†™)
func (s student) Study() string &#123;
    msg := &quot;å¥½å¥½å­¦ä¹ ï¼Œå¤©å¤©å‘ä¸Šã€‚&quot;
    fmt.Println(msg)
    return msg
&#125;

func (s student) Sleep() string &#123;
    msg := &quot;å¥½å¥½ç¡è§‰ï¼Œå¿«å¿«é•¿å¤§ã€‚&quot;
    fmt.Println(msg)
    return msg
&#125;

func main() &#123;
    // å®šä¹‰ä¸€ä¸ªåŒ¿åç»“æ„ä½“å¹¶åˆå§‹åŒ–
    stu1 := student&#123;
        Name:   &quot;A7cc&quot;,
        Gender: &quot;ç”·&quot;,
        Age:    18,
    &#125;
    // å±æ€§-----------------------
    t := reflect.TypeOf(stu1)
    // ä½¿ç”¨NumFieldæ–¹æ³•è¿”å›ç»“æ„ä½“æˆå‘˜å­—æ®µæ•°é‡
    // é€šè¿‡forå¾ªç¯éå†ç»“æ„ä½“çš„æ‰€æœ‰å­—æ®µä¿¡æ¯
    for i := 0; i &lt; t.NumField(); i++ &#123;
        // ä½¿ç”¨Fieldæ–¹æ³•æ ¹æ®ç´¢å¼•ï¼Œè¿”å›ç´¢å¼•å¯¹åº”çš„ç»“æ„ä½“å­—æ®µçš„ä¿¡æ¯
        field := t.Field(i)
        fmt.Printf(&quot;ç»“æ„ä½“å­—æ®µåå­—:%s ç»“æ„ä½“å­—æ®µç´¢å¼•:%d ç»“æ„ä½“å­—æ®µç±»å‹:%v ç»“æ„ä½“å­—æ®µçš„json tag:%v\n&quot;, field.Name, field.Index, field.Type, field.Tag.Get(&quot;json&quot;))

    &#125;

    // ä½¿ç”¨FieldByNameæ–¹æ³•é€šè¿‡å­—æ®µåè·å–æŒ‡å®šç»“æ„ä½“å­—æ®µä¿¡æ¯
    if ageField, ok := t.FieldByName(&quot;Age&quot;); ok &#123;
        fmt.Printf(&quot;ç»“æ„ä½“å­—æ®µåå­—:%s ç»“æ„ä½“å­—æ®µç´¢å¼•:%d ç»“æ„ä½“å­—æ®µç±»å‹:%v ç»“æ„ä½“å­—æ®µçš„json tag:%v\n&quot;, ageField.Name, ageField.Index, ageField.Type, ageField.Tag.Get(&quot;json&quot;))
    &#125;

    // æ–¹æ³•------------------------
    v := reflect.ValueOf(stu1)

    // ä½¿ç”¨NumMethodæ–¹æ³•è¿”å›è¯¥ç±»å‹çš„æ–¹æ³•é›†ä¸­æ–¹æ³•çš„æ•°ç›®
    // é€šè¿‡forå¾ªç¯éå†ç»“æ„ä½“çš„æ‰€æœ‰æ–¹æ³•ä¿¡æ¯
    for i := 0; i &lt; v.NumMethod(); i++ &#123;
        // ä½¿ç”¨Methodæ–¹æ³•å¯ä»¥è¿”å›è¯¥ç±»å‹æ–¹æ³•é›†ä¸­çš„ç¬¬iä¸ªæ–¹æ³•
        fmt.Printf(&quot;ç»“æ„ä½“æ–¹æ³•åå­—:%s\n&quot;, t.Method(i).Name)
        fmt.Printf(&quot;ç»“æ„ä½“æ–¹æ³•ç±»å‹ä»¥åŠè¿”å›å€¼ç±»å‹:%s\n&quot;, v.Method(i).Type())
        // é€šè¿‡åå°„è°ƒç”¨æ–¹æ³•ä¼ é€’çš„å‚æ•°å¿…é¡»æ˜¯ []reflect.Value ç±»å‹
        var args = []reflect.Value&#123;&#125;
        // Callè°ƒç”¨ç»“æ„ä½“æ–¹æ³•
        v.Method(i).Call(args)
    &#125;

    // ä½¿ç”¨MethodByNameæ–¹æ³•æ ¹æ®æ–¹æ³•åè¿”å›è¯¥ç±»å‹æ–¹æ³•é›†ä¸­çš„æ–¹æ³•
    fmt.Println(v.MethodByName(&quot;Sleep&quot;).Type())
&#125;
</code></pre>
<h1 id="é™†-ä½¿ç”¨åå°„çš„å»ºè®®"><a href="#é™†-ä½¿ç”¨åå°„çš„å»ºè®®" class="headerlink" title="é™† ä½¿ç”¨åå°„çš„å»ºè®®"></a>é™† ä½¿ç”¨åå°„çš„å»ºè®®</h1><p>åå°„æ˜¯ä¸€ä¸ªå¼ºå¤§å¹¶å¯Œæœ‰è¡¨ç°åŠ›çš„å·¥å…·ï¼Œèƒ½è®©æˆ‘ä»¬å†™å‡ºæ›´çµæ´»çš„ä»£ç ã€‚ä½†æ˜¯åå°„ä¸åº”è¯¥è¢«æ»¥ç”¨ï¼ŒåŸå› æœ‰ä»¥ä¸‹ä¸‰ä¸ªã€‚</p>
<ul>
<li>a.åŸºäºåå°„çš„ä»£ç æ˜¯æå…¶è„†å¼±çš„ï¼Œåå°„ä¸­çš„ç±»å‹é”™è¯¯ä¼šåœ¨çœŸæ­£è¿è¡Œçš„æ—¶å€™æ‰ä¼šå¼•å‘panicï¼Œé‚£å¾ˆå¯èƒ½æ˜¯åœ¨ä»£ç å†™å®Œçš„å¾ˆé•¿æ—¶é—´ä¹‹åã€‚</li>
<li>b.å¤§é‡ä½¿ç”¨åå°„çš„ä»£ç é€šå¸¸éš¾ä»¥ç†è§£ã€‚</li>
<li>c.åå°„çš„æ€§èƒ½ä½ä¸‹ï¼ŒåŸºäºåå°„å®ç°çš„ä»£ç é€šå¸¸æ¯”æ­£å¸¸ä»£ç è¿è¡Œé€Ÿåº¦æ…¢ä¸€åˆ°ä¸¤ä¸ªæ•°é‡çº§ã€‚</li>
</ul>

        </div>
        
        
        
        
        <div id="comment">
            <div id="giscus-container" class="giscus"></div>
        </div>
        
        
        
        
    </div>
    
    <div id="article-card">
        <div id="card-style">
    <div id="card-div">
        <div class="avatar">
            <img src="/images/f6e2b991f74bfd7b88c3ab1a3d513b94.jpg" alt="avatar" />
        </div>
        <div class="name">å°C&amp;å¤©å¤©</div>
        <div class="description">
            <p>ä¿®å­¦å‚¨èƒ½ å…ˆåšåæ¸Š</p>

        </div>
        
        <div class="icon-links">
            
            <span class="icon-link">
                <a target="_blank" rel="noopener" href="https://github.com/A7cc">
                    <i class="fa-brands fa-github fa-fw"></i>
                </a>
            </span>
            
            <span class="icon-link">
                <a target="_blank" rel="noopener" href="https://www.qq.com/">
                    <i class="fa-brands fa-qq fa-fw"></i>
                </a>
            </span>
            
            <span class="icon-link">
                <a target="_blank" rel="noopener" href="https://www.weibo.com/">
                    <i class="fa-brands fa-weibo fa-fw"></i>
                </a>
            </span>
            
            <span class="icon-link">
                <a target="_blank" rel="noopener" href="https://google.com/">
                    <i class="fa-brands fa-google fa-fw"></i>
                </a>
            </span>
            
        </div>
        
        
        <div class="friend-links">
            
            <span class="friend-link">
                <a target="_blank" rel="noopener" href="http://www.wgs6km.top/">kyrieee</a>
            </span>
            
            <span class="friend-link">
                <a target="_blank" rel="noopener" href="https://tonyd0g.gitee.io/">tonyd0g</a>
            </span>
            
            <span class="friend-link">
                <a target="_blank" rel="noopener" href="https://ruyueattention.github.io/">ruyueattention</a>
            </span>
            
        </div>
        
    </div>
    
    <!-- <br /> -->
    <!-- ç›®å½• -->
    <!-- 
    <div id="card-div">
        <div id="toc" class="toc-article">
            <strong class="toc-title">æ–‡ç« ç›®å½•</strong>
            <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A3%B9-%E5%8F%8D%E5%B0%84%E4%BB%8B%E7%BB%8D"><span class="toc-text">å£¹ åå°„ä»‹ç»</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%B4%B0-reflect%E5%8C%85"><span class="toc-text">è´° reflectåŒ…</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%81-reflect-TypeOf%E2%80%94%E2%80%94%E6%9F%A5%E7%9C%8B%E7%B1%BB%E5%9E%8B"><span class="toc-text">å reflect.TypeOfâ€”â€”æŸ¥çœ‹ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-TypeOf%E5%87%BD%E6%95%B0%E4%BB%8B%E7%BB%8D"><span class="toc-text">3.1 TypeOfå‡½æ•°ä»‹ç»</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-Name%E5%87%BD%E6%95%B0%E5%92%8CKind%E5%87%BD%E6%95%B0"><span class="toc-text">3.2 Nameå‡½æ•°å’ŒKindå‡½æ•°</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%82%86-reflect-ValueOf%E2%80%94%E2%80%94%E6%9F%A5%E7%9C%8B%E5%80%BC"><span class="toc-text">è‚† reflect.ValueOfâ€”â€”æŸ¥çœ‹å€¼</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-ValueOf%E5%87%BD%E6%95%B0%E4%BB%8B%E7%BB%8D"><span class="toc-text">4.1 ValueOfå‡½æ•°ä»‹ç»</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-3-%E9%80%9A%E8%BF%87%E5%8F%8D%E5%B0%84%E8%8E%B7%E5%8F%96%E5%80%BC"><span class="toc-text">4.3 é€šè¿‡åå°„è·å–å€¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-4-%E9%80%9A%E8%BF%87%E5%8F%8D%E5%B0%84%E8%AE%BE%E7%BD%AE%E5%8F%98%E9%87%8F%E7%9A%84%E5%80%BC%E2%80%94%E2%80%94Elem%E5%87%BD%E6%95%B0"><span class="toc-text">4.4 é€šè¿‡åå°„è®¾ç½®å˜é‡çš„å€¼â€”â€”Elemå‡½æ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-5-isNil%E5%87%BD%E6%95%B0%E5%92%8CisValid%E5%87%BD%E6%95%B0"><span class="toc-text">4.5 isNilå‡½æ•°å’ŒisValidå‡½æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-1-isNil%E5%87%BD%E6%95%B0"><span class="toc-text">4.5.1 isNilå‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-2-isValid%E5%87%BD%E6%95%B0"><span class="toc-text">4.5.2 isValidå‡½æ•°</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BC%8D-%E7%BB%93%E6%9E%84%E4%BD%93%E5%8F%8D%E5%B0%84"><span class="toc-text">ä¼ ç»“æ„ä½“åå°„</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1-StructField%E7%B1%BB%E5%9E%8B"><span class="toc-text">5.1 StructFieldç±»å‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-2-%E4%B8%8E%E7%BB%93%E6%9E%84%E4%BD%93%E7%9B%B8%E5%85%B3%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-text">5.2 ä¸ç»“æ„ä½“ç›¸å…³çš„æ–¹æ³•</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%99%86-%E4%BD%BF%E7%94%A8%E5%8F%8D%E5%B0%84%E7%9A%84%E5%BB%BA%E8%AE%AE"><span class="toc-text">é™† ä½¿ç”¨åå°„çš„å»ºè®®</span></a></li></ol>
        </div>    
    </div>
     -->
</div>

<div id="card-style-fun">
    
    <br />
    <div id="card-div">
        <div class="good-sentence">
            <div class="toolio">
                <div class="circle"><span class="red"></span></div>
                <div class="circle"><span class="yellow"></span></div>
                <div class="circle"><span class="green"></span></div>
                <div class="circle"><span class="text">ä»Šæ—¥è¯—å¥</span></div>
            </div>
            <div class="sentence">
                <div id="sentenceid" onload="getsentence();"></div>
            </div>
        </div>
    </div>
    
</div>



    </div>
    
</div>
                <!-- é¡µè„š -->
                <footer id="footer">
    <div id="footer-wrap">
        <div>
            <span id="timeDate">è½½å…¥å¤©æ•°...</span><span id="times">è½½å…¥æ—¶åˆ†ç§’...</span>
            <script>
                var now = new Date(); 
                function createtime() { 
                    var grt= new Date("07/10/2022 00:00:00");
                    now.setTime(now.getTime()+250); 
                    days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); 
                    hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); 
                    if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); 
                    mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;} 
                    seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
                    snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
                    document.getElementById("timeDate").innerHTML = "å·²è¿è¡Œ "+dnum+" å¤© "; 
                    document.getElementById("times").innerHTML = hnum + " å°æ—¶ " + mnum + " åˆ† " + snum + " ç§’"; 
                } 
            setInterval("createtime()",250);
            </script>
        </div>
        <div>
            &copy;
            2022 - 2023 å°Câ™¥å¤©å¤©
            <span class="footer-icon">
                <i class="fa-brands fa-github fa-fw"></i>
            </span>
            &commat;å°C&amp;å¤©å¤©
        </div>
        <div>
            Powered by <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX</a> 
        </div>
        
    </div>
</footer>

            </div>
            <!-- ç®€å•çš„ç‚¹å‡»å›¾ç‰‡æ”¾å¤§ç¼©å°çš„é¢„è§ˆ -->
            
            <transition name="fade">
                <div id="preview" ref="preview" v-show="previewShow">
                    <img id="preview-content" ref="previewContent" />
                </div>
            </transition>
            
        </div>
        <!-- çœ‹æ¿å¨˜ -->
        
        <div id="L2dCanvas"></div>
        <script src="/js/lib/live2d.min.js"></script>
        <!-- è®¾ç½®éšæœºæ¨¡æ¿ -->
        
        <script>
            var v = new Viewer({
                basePath: "/model",
                role: "dunkeerke_2",
                mobile: true,
            });
        </script>
        
        <!-- è¯—å¥ -->
        
        <script>
            // // æ¯éš”10åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡getsentenceè¿™ä¸ªå‡½æ•°
            window.setInterval(getsentence, 100*60*5);
            function getsentence() {
                // è¿™é‡Œæ²¡æœ‰è€ƒè™‘IEæµè§ˆå™¨ï¼Œå¦‚æœéœ€è¦æ‹©ifåˆ¤æ–­åŠ 
                var xhr = new XMLHttpRequest();  
                xhr.open('GET', "https://zj.v.api.aa1.cn/api/wenan-shici/?type=json",true);
                xhr.send(JSON.stringify(null));
                xhr.onreadystatechange = function () {
                    if (xhr.status === 200 && xhr.readyState === 4) {
                        //jså¤„ç†æ•°æ®
                        // xhr.responseText.match(/content":(".+?")/g)
                        getdata = JSON.parse(xhr.responseText).msg;
                    }else{
                        getdata = "é•¿é£ç ´æµªä¼šæœ‰æ—¶ï¼Œç›´æŒ‚äº‘å¸†æµæ²§æµ·ã€‚â€”â€”æç™½ã€Šè¡Œè·¯éš¾ã€‹";
                    }
                    document.getElementById("sentenceid").innerHTML = getdata;
                }
            }
            window.onload = getsentence;
        </script>
        
        <!-- ç‚¹å‡» -->
        <script>
            let body = document.getElementsByTagName('body')[0];
            body.addEventListener('click', (e) => {
                let contentArr = ['âœŠ','ğŸ˜˜','ğŸ˜','ğŸ˜Š','ğŸ˜­','ğŸ˜¡','ğŸ˜‹','ğŸ‘','ğŸ·','ğŸ˜±','ğŸ’·','ğŸ’µ','Ã—','ğŸ†—','â„–','â­','ğŸŒ™','â™¥','ğŸ’´','â˜€','ğŸ','ğŸ‚','ğŸ','âˆš'];
                let randomNum = function (n) {
                    return Math.floor(Math.random() * n)
                }
                let span = document.createElement('span');
                span.innerHTML = `${contentArr[randomNum(contentArr.length)]}`;
                span.style.color = `rgb(${randomNum(256)},${randomNum(256)},${randomNum(256)})`;
                span.style.position = 'absolute';
                span.style.top = `${e.pageY}px`;
                span.style.left = `${e.pageX}px`;
                span.style.transition = 'all 1s ease';
                span.style.zIndex = 20000;
                body.appendChild(span)
                setTimeout(()=>{
                    span.style.top = span.offsetTop - 100 + 'px';
                    span.style.opacity = 0;
                    setTimeout(()=>{span.remove()},700)
                },0)
            })
        </script>
        <!-- æµæ˜ŸèƒŒæ™¯ç‰¹æ•ˆ -->
        
        <canvas id="background" style="position:fixed;top:0;left:0;width:100vw;height:100vh;pointer-events:none;z-index:-1"></canvas>
        <script src="/js/meteorbackground.js"></script>
        
        <script src="/js/main.js"></script>
        <!-- è¯„è®ºè®¾ç½® -->
        
        
<script
    src="https://giscus.app/client.js"
    data-repo="argvchs/giscus-comments"
    data-repo-id="R_kgDOI_uC-w"
    data-category="Announcements"
    data-category-id="DIC_kwDOI_uC-84CUToF"
    data-mapping="pathname"
    data-strict="1"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="bottom"
    data-theme="https://static-argvchs.netlify.app/css/giscus.css"
    data-lang="zh-CN"
    crossorigin
    async
></script>





        
    </body>
</html>
