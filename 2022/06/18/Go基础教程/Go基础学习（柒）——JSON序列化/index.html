
<!DOCTYPE html>
<html lang="zh-Hans">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0">
        <title>GoåŸºç¡€å­¦ä¹ ï¼ˆæŸ’ï¼‰â€”â€”JSONåºåˆ—åŒ– | å°Câ™¥å¤©å¤©</title>
        <meta name="author" content="å°C&å¤©å¤©">
        <meta name="description" content="^v^">
        <meta name="keywords" content="">
        <link rel="icon" href="/images/icon.jpg">
        <script src="https://cdn.staticfile.org/instant.page/5.1.0/instantpage.min.js" type="module"></script>
        <script src="https://cdn.staticfile.org/font-awesome/6.1.1/js/all.min.js"></script>
        <link rel="stylesheet" href="/css/fonts.min.css">
        <link rel="stylesheet" href="/css/particlex.css">
        <script src="https://cdn.staticfile.org/vue/3.2.33/vue.global.prod.min.js"></script>
        <script src="https://cdn.staticfile.org/pixi.js/4.6.1/pixi.min.js"></script>
    <meta name="generator" content="Hexo 6.2.0"></head>
    <body>
        <div id="loading" style="height:100vh;width:100vw;position:fixed;display:flex;z-index:200;justify-content:space-between;background:#fff;transition:opacity 0.3s ease-out"><div style="position:fixed;height:100vh;width:100vw;display:flex;justify-content:center;align-items:center"><div id="loadcontent" style="width:30vmin;height:30vmin;padding:60px;border-radius:50%;display:flex;justify-content:center;align-items:center;border:solid 10px #dd20dd;text-align:center"><div><h2>LOADING...</h2><p style="word-break:keep-all">æ­£åœ¨åŠ è½½</p><div><img alt="loading" src="/images/afde9fa65a5742a90b51d6e1211e841e.gif"></div></div></div></div></div>
        <div id="layout">
            <i data-fa-symbol="calendar-solid" class="fa-solid fa-calendar fa-fw"></i>
            <i data-fa-symbol="bookmark-solid" class="fa-solid fa-bookmark fa-fw"></i>
            <i data-fa-symbol="tags-solid" class="fa-solid fa-tags fa-fw"></i>
            <transition name="into">
                <div v-show="show_page" style="display: -not-none">
                    <div id="menu_show">
                         
<nav id="menu">
    <div class="desktop-menu">
        <a href="/">
            <span class="title">å°Câ™¥å¤©å¤©</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;ä¸»é¡µ</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;å…³äº</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;æ–‡ç« </span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;åˆ†ç±»</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;æ ‡ç­¾</span>
        </a>
        
    </div>
    <div :class="'phone-menu ' + menu_show" id="phone-menu">
        <div class="curtain" @click="menu_show = !menu_show" v-show="menu_show"></div>
        <div :class="'title'" @click="menu_show = !menu_show">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;å°Câ™¥å¤©å¤©</span>
        </div>
        <transition name="slide">
        <div class="items" v-show="menu_show">
            
            <a href="/">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-house fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">ä¸»é¡µ</div>
                </div>
            </a>
            
            <a href="/about">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-id-card fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">å…³äº</div>
                </div>
            </a>
            
            <a href="/archives">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-box-archive fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">æ–‡ç« </div>
                </div>
            </a>
            
            <a href="/categories">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-bookmark fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">åˆ†ç±»</div>
                </div>
            </a>
            
            <a href="/tags">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-tags fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">æ ‡ç­¾</div>
                </div>
            </a>
            
        </div>
        </transition>
    </div>
</nav>
                    </div>
                    <div id="main">
                        
<div class="article">
    <div>
        <h1>GoåŸºç¡€å­¦ä¹ ï¼ˆæŸ’ï¼‰â€”â€”JSONåºåˆ—åŒ– </h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <svg class="fa-icon"><use xlink:href="#calendar-solid"></use></svg>
            </span>
            2022/6/18
        </span>
        
        <span class="category">
            <a href="/categories/GoåŸºç¡€æ•™ç¨‹">
                <span class="icon">
                    <svg class="fa-icon"><use xlink:href="#bookmark-solid"></use></svg>
                </span>
                GoåŸºç¡€æ•™ç¨‹
            </a>
        </span>
        
        
        <span class="tags">
            <span class="icon">
                <svg class="fa-icon"><use xlink:href="#tags-solid"></use></svg>
            </span>
            
            <span class="tag">
                
                <a href="/tags/Go" style="color: #ff7d73">
                    Go
                </a>
            </span>
            
            <span class="tag">
                
                <a href="/tags/å¼€å‘" style="color: #ff7d73">
                    å¼€å‘
                </a>
            </span>
            
        </span>
        
    </div>
    <div class="content" v-pre>
        <h1 id="å£¹-JSONåºåˆ—åŒ–ä»‹ç»"><a href="#å£¹-JSONåºåˆ—åŒ–ä»‹ç»" class="headerlink" title="å£¹ JSONåºåˆ—åŒ–ä»‹ç»"></a>å£¹ JSONåºåˆ—åŒ–ä»‹ç»</h1><p><code>JSON(JavaScript Object Notation)</code> æ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ï¼Œå¸¸ç”¨äºå‰åç«¯æ•°æ®ä¼ è¾“ï¼Œæ˜“äºäººé˜…è¯»å’Œç¼–å†™ï¼ŒåŒæ—¶ä¹Ÿæ˜“äºæœºå™¨è§£æå’Œç”Ÿæˆã€‚JSONé”®å€¼å¯¹æ˜¯ç”¨æ¥ä¿å­˜JSå¯¹è±¡çš„ä¸€ç§æ–¹å¼ï¼Œé”®&#x2F;å€¼å¯¹ç»„åˆä¸­çš„é”®åå†™åœ¨å‰é¢å¹¶ç”¨åŒå¼•å·<code>&quot;&quot;</code>åŒ…è£¹ï¼Œä½¿ç”¨å†’å·<code>:</code>åˆ†éš”ï¼Œç„¶åç´§æ¥ç€å€¼ï¼›å¤šä¸ªé”®å€¼ä¹‹é—´ä½¿ç”¨è‹±æ–‡<code>,</code>åˆ†éš”ã€‚</p>
<p><font color="red">ä¸ºä»€ä¹ˆè¦åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Ÿä¸ªäººè§‰å¾—æ˜¯å› ä¸ºä¸åŒè¯­è¨€çš„æ•°æ®ç±»å‹çš„å†…å­˜åˆ†é…æƒ…å†µã€è¯­æ³•ç­‰ä¸åŒï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§ç»Ÿä¸€çš„æ ¼å¼å»è¯†åˆ«å’Œè¯´æ˜ï¼Œä¸åŒè¯­è¨€ä¹‹é—´æ•°æ®çš„äº¤æ¢ï¼Œè¿™å°±éœ€è¦åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Œä¾‹å¦‚ï¼Œ<code>Python</code>ä¸<code>Go</code>è¯­è¨€çš„ä¸åŒï¼Œä¹‹é—´çš„äº¤äº’æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨åºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚</font></p>
<p>å¯¹äºJSONåºåˆ—åŒ–ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨<code>encoding/json</code>åº“ï¼Œè¿›è¡ŒJSONåºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚</p>
<span id="more"></span>
<h1 id="è´°-JSONåºåˆ—åŒ–å’Œååºåˆ—åŒ–å‡½æ•°"><a href="#è´°-JSONåºåˆ—åŒ–å’Œååºåˆ—åŒ–å‡½æ•°" class="headerlink" title="è´° JSONåºåˆ—åŒ–å’Œååºåˆ—åŒ–å‡½æ•°"></a>è´° JSONåºåˆ—åŒ–å’Œååºåˆ—åŒ–å‡½æ•°</h1><p>å¯¹äºJSONåºåˆ—åŒ–ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªå‡½æ•°ï¼š<code>Unmarshal</code>å‡½æ•°ï¼ˆJSONååºåˆ—åŒ–ï¼‰å’Œ<code>Marshal</code>å‡½æ•°ï¼ˆåºåˆ—åŒ–ï¼‰</p>
<h2 id="2-1-Unmarshalå‡½æ•°â€”â€”JSONæ ¼å¼çš„å­—ç¬¦ä¸²è½¬åŒ–ä¸ºç»“æ„ä½“"><a href="#2-1-Unmarshalå‡½æ•°â€”â€”JSONæ ¼å¼çš„å­—ç¬¦ä¸²è½¬åŒ–ä¸ºç»“æ„ä½“" class="headerlink" title="2.1 Unmarshalå‡½æ•°â€”â€”JSONæ ¼å¼çš„å­—ç¬¦ä¸²è½¬åŒ–ä¸ºç»“æ„ä½“"></a>2.1 Unmarshalå‡½æ•°â€”â€”JSONæ ¼å¼çš„å­—ç¬¦ä¸²è½¬åŒ–ä¸ºç»“æ„ä½“</h2><p><code>Unmarshal</code>å‡½æ•°æ˜¯å°†JSONæ ¼å¼çš„å­—ç¬¦ä¸²è½¬åŒ–ä¸ºç»“æ„ä½“ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„ <code>json.UnMarshal()</code> å‡½æ•°æ¥æ”¶çš„å‚æ•°æ˜¯å­—èŠ‚åˆ‡ç‰‡ï¼Œæ‰€ä»¥ç›¸å½“äºJSONæ ¼å¼çš„å­—èŠ‚åˆ‡ç‰‡è½¬åŒ–ä¸ºç»“æ„ä½“<code>struct</code>ã€‚</p>
<p>æ ¼å¼ï¼š</p>
<pre><code class="go">func Unmarshal(data []byte, v interface&#123;&#125;) error
// dataæ˜¯è¦è¿›è¡Œè½¬åŒ–çš„jsonæ•°æ®
// væ˜¯è¢«è½¬åŒ–åçš„structæ•°æ®ï¼ŒæŒ‡é’ˆæˆ–è€…ç±»å‹éƒ½è¡Œ
</code></pre>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<pre><code class="go">//Student å­¦ç”Ÿ
type Student struct &#123;
    ID     int
    Gender string
    Name   string
&#125;

//Class ç­çº§
type Class struct &#123;
    Title    string
    Students []*Student
&#125;

func main() &#123;
    c := &amp;Class&#123;
        Title:    &quot;101&quot;,
        Students: make([]*Student, 0, 200),
    &#125;
    for i := 0; i &lt; 10; i++ &#123;
        stu := &amp;Student&#123;
            Name:   fmt.Sprintf(&quot;stu%02d&quot;, i),
            Gender: &quot;ç”·&quot;,
            ID:     i,
        &#125;
        c.Students = append(c.Students, stu)
    &#125;
    //JSONåºåˆ—åŒ–ï¼šç»“æ„ä½“--&gt;JSONæ ¼å¼çš„å­—ç¬¦ä¸²
    data, err := json.Marshal(c)
    if err != nil &#123;
        fmt.Println(&quot;json marshal failed&quot;)
        return
    &#125;
    fmt.Printf(&quot;json:%s\n&quot;, data)
    //JSONååºåˆ—åŒ–ï¼šJSONæ ¼å¼çš„å­—ç¬¦ä¸²--&gt;ç»“æ„ä½“
    str := `&#123;&quot;Title&quot;:&quot;101&quot;,&quot;Students&quot;:[&#123;&quot;ID&quot;:0,&quot;Gender&quot;:&quot;ç”·&quot;,&quot;Name&quot;:&quot;stu00&quot;&#125;,&#123;&quot;ID&quot;:1,&quot;Gender&quot;:&quot;ç”·&quot;,&quot;Name&quot;:&quot;stu01&quot;&#125;,&#123;&quot;ID&quot;:2,&quot;Gender&quot;:&quot;ç”·&quot;,&quot;Name&quot;:&quot;stu02&quot;&#125;,&#123;&quot;ID&quot;:3,&quot;Gender&quot;:&quot;ç”·&quot;,&quot;Name&quot;:&quot;stu03&quot;&#125;,&#123;&quot;ID&quot;:4,&quot;Gender&quot;:&quot;ç”·&quot;,&quot;Name&quot;:&quot;stu04&quot;&#125;,&#123;&quot;ID&quot;:5,&quot;Gender&quot;:&quot;ç”·&quot;,&quot;Name&quot;:&quot;stu05&quot;&#125;,&#123;&quot;ID&quot;:6,&quot;Gender&quot;:&quot;ç”·&quot;,&quot;Name&quot;:&quot;stu06&quot;&#125;,&#123;&quot;ID&quot;:7,&quot;Gender&quot;:&quot;ç”·&quot;,&quot;Name&quot;:&quot;stu07&quot;&#125;,&#123;&quot;ID&quot;:8,&quot;Gender&quot;:&quot;ç”·&quot;,&quot;Name&quot;:&quot;stu08&quot;&#125;,&#123;&quot;ID&quot;:9,&quot;Gender&quot;:&quot;ç”·&quot;,&quot;Name&quot;:&quot;stu09&quot;&#125;]&#125;`
    c1 := &amp;Class&#123;&#125;
    // Unmarshalå‡½æ•°æ˜¯å°†JSONæ ¼å¼çš„å­—ç¬¦ä¸²è½¬åŒ–ä¸ºç»“æ„ä½“ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„json.UnMarshal() å‡½æ•°æ¥æ”¶çš„å‚æ•°æ˜¯å­—èŠ‚åˆ‡ç‰‡ï¼Œæ‰€ä»¥ç›¸å½“äºJSONæ ¼å¼çš„å­—èŠ‚åˆ‡ç‰‡è½¬åŒ–ä¸ºç»“æ„ä½“
    err = json.Unmarshal([]byte(str), c1)
    if err != nil &#123;
        fmt.Println(&quot;json unmarshal failed!&quot;)
        return
    &#125;
    fmt.Printf(&quot;%#v\n&quot;, c1)
&#125;
</code></pre>
<h2 id="2-2-Marshalå‡½æ•°â€”â€”å°†æ•°æ®ç¼–ç æˆJSONå­—ç¬¦ä¸²"><a href="#2-2-Marshalå‡½æ•°â€”â€”å°†æ•°æ®ç¼–ç æˆJSONå­—ç¬¦ä¸²" class="headerlink" title="2.2 Marshalå‡½æ•°â€”â€”å°†æ•°æ®ç¼–ç æˆJSONå­—ç¬¦ä¸²"></a>2.2 Marshalå‡½æ•°â€”â€”å°†æ•°æ®ç¼–ç æˆJSONå­—ç¬¦ä¸²</h2><p><code>Marshal</code>å‡½æ•°æ˜¯å°†Goè¯­è¨€çš„ç±»å‹è½¬åŒ–ä¸ºJSONï¼Œè¿™é‡Œéœ€è¦æ³¨æ„ <code>json.Marshal()</code> å‡½æ•°è¿”å›çš„æ˜¯å­—èŠ‚åˆ‡ç‰‡ã€‚</p>
<p>æ ¼å¼ï¼š</p>
<pre><code class="go">func Marshal(v interface&#123;&#125;) ([]byte, error)
// væ˜¯è¦è¿›è¡Œè½¬åŒ–çš„Goè¯­è¨€çš„ç±»å‹æ•°æ®
// []byteæ˜¯è¢«è½¬åŒ–åçš„jsonå­—èŠ‚åˆ‡ç‰‡æ•°æ®
</code></pre>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<pre><code class="go">package main

import (
    &quot;encoding/json&quot;
    &quot;fmt&quot;
)

type Stu struct &#123;
    Name  string `json:&quot;name&quot;`
    Age   int
    HIgh  bool
    sex   string
    Class *Class `json:&quot;class&quot;`
&#125;

type Class struct &#123;
    Name  string
    Grade int
&#125;

func main() &#123;
    //å®ä¾‹åŒ–ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œç”¨äºç”Ÿæˆjsonå­—ç¬¦ä¸²
    stu := Stu&#123;
        Name: &quot;å¼ ä¸‰&quot;,
        Age:  18,
        HIgh: true,
        sex:  &quot;ç”·&quot;,
    &#125;

    //æŒ‡é’ˆå˜é‡
    cla := new(Class)
    cla.Name = &quot;1ç­&quot;
    cla.Grade = 3
    stu.Class = cla

    //Marshalå¤±è´¥æ—¶err!=nil
    jsonStu, err := json.Marshal(stu)
    if err != nil &#123;
        fmt.Println(&quot;ç”Ÿæˆjsonå­—ç¬¦ä¸²é”™è¯¯&quot;)
    &#125;

    //jsonStuæ˜¯[]byteç±»å‹ï¼Œè½¬åŒ–æˆstringç±»å‹ä¾¿äºæŸ¥çœ‹
    fmt.Println(string(jsonStu))	// &#123;&quot;name&quot;:&quot;å¼ ä¸‰&quot;,&quot;Age&quot;:18,&quot;HIgh&quot;:true,&quot;class&quot;:&#123;&quot;Name&quot;:&quot;1ç­&quot;,&quot;Grade&quot;:3&#125;&#125;
&#125;
</code></pre>
<p>ä»ç»“æœä¸­å¯ä»¥çœ‹å‡ºï¼š</p>
<ul>
<li>åªè¦æ˜¯å¯å¯¼å‡ºæˆå‘˜ï¼ˆå˜é‡é¦–å­—æ¯å¤§å†™ï¼‰ï¼Œéƒ½å¯ä»¥è½¬æˆJSONã€‚å› æˆå‘˜å˜é‡sexï¼ˆå˜é‡é¦–å­—æ¯å°å†™ï¼‰æ˜¯ä¸å¯å¯¼å‡ºçš„ï¼Œæ•…æ— æ³•è½¬æˆJSONã€‚</li>
<li>å¦‚æœå˜é‡æ‰“ä¸Šäº†JSONæ ‡ç­¾ï¼Œå¦‚Nameæ—è¾¹çš„ <code>json:&quot;name&quot;</code> ï¼Œé‚£ä¹ˆè½¬åŒ–æˆçš„<code>json key</code>å°±ç”¨è¯¥æ ‡ç­¾<code>name</code>ï¼Œå¦åˆ™å–å˜é‡åä½œä¸º<code>key</code>ï¼Œå¦‚<code>Age</code>ï¼Œ<code>HIgh</code>ã€‚</li>
<li><code>bool</code>ç±»å‹ä¹Ÿæ˜¯å¯ä»¥ç›´æ¥è½¬æ¢ä¸ºJSONçš„<code>value</code>å€¼ã€‚<code>Channel</code>ï¼Œ <code>complex</code> ä»¥åŠå‡½æ•°ä¸èƒ½è¢«ç¼–ç JSONå­—ç¬¦ä¸²ã€‚å½“ç„¶ï¼Œå¾ªç¯çš„æ•°æ®ç»“æ„ä¹Ÿä¸è¡Œï¼Œå®ƒä¼šå¯¼è‡´<code>marshal</code>é™·å…¥æ­»å¾ªç¯ã€‚</li>
<li>å¦‚æœæ˜¯<code>æŒ‡é’ˆå˜é‡</code>ï¼Œç¼–ç æ—¶è‡ªåŠ¨è½¬æ¢ä¸º<code>å®ƒæ‰€æŒ‡å‘çš„å€¼</code>ï¼Œå¦‚ä¸Šé¢ä¾‹å­çš„<code>cla</code>å˜é‡ï¼Œå½“ç„¶ï¼Œä¸ä¼ æŒ‡é’ˆï¼Œ<code>Stu struct</code>çš„æˆå‘˜<code>Class</code>å¦‚æœæ¢æˆ<code>Class struct</code>ç±»å‹ï¼Œæ•ˆæœä¹Ÿæ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚åªä¸è¿‡æŒ‡é’ˆæ›´å¿«ï¼Œä¸”èƒ½èŠ‚çœå†…å­˜ç©ºé—´ã€‚</li>
<li>æœ€åï¼Œå¼ºè°ƒä¸€å¥ï¼šÂ·JSONç¼–ç æˆå­—ç¬¦ä¸²åå°±æ˜¯çº¯ç²¹çš„å­—ç¬¦ä¸²äº†ã€‚</li>
</ul>
<p>ä¸Šé¢çš„æˆå‘˜å˜é‡éƒ½æ˜¯å·²çŸ¥çš„ç±»å‹ï¼Œåªèƒ½æ¥æ”¶æŒ‡å®šçš„ç±»å‹ï¼Œæ¯”å¦‚<code>string</code>ç±»å‹çš„<code>Name</code>åªèƒ½èµ‹å€¼<code>string</code>ç±»å‹çš„æ•°æ®ã€‚ä½†æœ‰æ—¶ä¸ºäº†é€šç”¨æ€§ï¼Œæˆ–ä½¿ä»£ç ç®€æ´ï¼Œæˆ‘ä»¬å¸Œæœ›æœ‰ä¸€ç§ç±»å‹å¯ä»¥æ¥å—å„ç§ç±»å‹çš„æ•°æ®ï¼Œå¹¶è¿›è¡Œ<code>JSON</code>ç¼–ç ã€‚è¿™å°±ç”¨åˆ°äº†<code>interface&#123;&#125;</code>ç±»å‹ã€‚<code>Go</code>çš„æ¯ä¸€ç§ç±»å‹éƒ½å®ç°äº†è¯¥æ¥å£ã€‚å› æ­¤ï¼Œä»»ä½•å…¶ä»–ç±»å‹çš„æ•°æ®éƒ½å¯ä»¥èµ‹å€¼ç»™<code>interface&#123;&#125;</code>ç±»å‹ã€‚</p>
<pre><code class="go">package main

import (
    &quot;encoding/json&quot;
    &quot;fmt&quot;
)

type Stu struct &#123;
    Name  interface&#123;&#125; `json:&quot;name&quot;`
    Age   interface&#123;&#125;
    HIgh  interface&#123;&#125;
    sex   interface&#123;&#125;
    Class interface&#123;&#125; `json:&quot;class&quot;`
&#125;

type Class struct &#123;
    Name  string
    Grade int
&#125;

func main() &#123;
    //å®ä¾‹åŒ–ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œç”¨äºç”Ÿæˆjsonå­—ç¬¦ä¸²
    stu := Stu&#123;
        Name: &quot;å¼ ä¸‰&quot;,
        Age:  18,
        HIgh: true,
        sex:  &quot;ç”·&quot;,
    &#125;

    //æŒ‡é’ˆå˜é‡
    cla := new(Class)
    cla.Name = &quot;1ç­&quot;
    cla.Grade = 3
    stu.Class = cla

    //Marshalå¤±è´¥æ—¶err!=nil
    jsonStu, err := json.Marshal(stu)
    if err != nil &#123;
        fmt.Println(&quot;ç”Ÿæˆjsonå­—ç¬¦ä¸²é”™è¯¯&quot;)
    &#125;

    //jsonStuæ˜¯[]byteç±»å‹ï¼Œè½¬åŒ–æˆstringç±»å‹ä¾¿äºæŸ¥çœ‹
    fmt.Println(string(jsonStu)) // &#123;&quot;name&quot;:&quot;å¼ ä¸‰&quot;,&quot;Age&quot;:18,&quot;HIgh&quot;:true,&quot;class&quot;:&#123;&quot;Name&quot;:&quot;1ç­&quot;,&quot;Grade&quot;:3&#125;&#125;
&#125;
</code></pre>
<p>ä»ç»“æœä¸­å¯ä»¥çœ‹å‡ºï¼Œæ— è®ºæ˜¯<code>string</code>ï¼Œ<code>int</code>ï¼Œ<code>bool</code>ï¼Œè¿˜æ˜¯æŒ‡é’ˆç±»å‹ç­‰ï¼Œéƒ½å¯èµ‹å€¼ç»™<code>interface&#123;&#125;</code>ç±»å‹ï¼Œä¸”æ­£å¸¸ç¼–ç ï¼Œæ•ˆæœä¸å‰é¢çš„ä¾‹å­ä¸€æ ·ã€‚</p>
<h1 id="å-JSONä¸Mapã€structè½¬åŒ–"><a href="#å-JSONä¸Mapã€structè½¬åŒ–" class="headerlink" title="å JSONä¸Mapã€structè½¬åŒ–"></a>å JSONä¸Mapã€structè½¬åŒ–</h1><p>ä¾‹å¦‚æˆ‘ä»¬åœ¨çˆ¬è™«æ—¶ï¼Œå¯èƒ½ä¼šè·å–åˆ°çš„æ—¶<code>JSON</code>æ ¼å¼çš„æ•°æ®ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦å°†å…¶è½¬åŒ–ä¸ºGoè¯­è¨€å¸¸ç”¨çš„æ•°æ®ç±»å‹ï¼Œæ‰èƒ½å¯¹<code>JSON</code>æ•°æ®å†…å®¹è¿›è¡Œæ“ä½œã€‚</p>
<h2 id="3-1-JSONä¸structè½¬åŒ–"><a href="#3-1-JSONä¸structè½¬åŒ–" class="headerlink" title="3.1 JSONä¸structè½¬åŒ–"></a>3.1 JSONä¸structè½¬åŒ–</h2><p><code>JSON</code>è½¬åŒ–ä¸º<code>struct</code>æœ‰ä¼ç§ï¼šæ™®é€š<code>JSON</code>ã€<code>JSON</code>å†…åµŒæ™®é€š<code>JSON</code>ã€<code>JSON</code>å†…åµŒæ•°ç»„<code>JSON</code>ã€<code>JSON</code>å†…åµŒå…·æœ‰åŠ¨æ€<code>Key</code>çš„<code>JSON</code>ã€ä½¿ç”¨ç©ºæ¥å£ã€‚</p>
<p><font color="red">æ€è·¯å°±æ˜¯åˆ›å»ºä¸€ä¸ªä¸<code>JSON</code>ä¸€æ ·æ ¼å¼çš„<code>struct</code>æ•°æ®ç±»å‹ï¼Œä½¿ç”¨<code>Unmarshal</code>å‡½æ•°å°†JSONæ ¼å¼çš„å­—ç¬¦ä¸²è½¬åŒ–ä¸ºç»“æ„ä½“ã€‚</font></p>
<h3 id="3-1-1-æ™®é€šJSON"><a href="#3-1-1-æ™®é€šJSON" class="headerlink" title="3.1.1 æ™®é€šJSON"></a>3.1.1 æ™®é€šJSON</h3><p>ç”±äºæ™®é€šJSONç»“æ„æ¯”è¾ƒç®€å•ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨åŸºæœ¬ç±»å‹ä½œä¸ºç»“æ„ä½“çš„å…ƒç´ å³å¯ã€‚</p>
<pre><code class="go">package main

import (
    &quot;encoding/json&quot;
    &quot;fmt&quot;
)

// Actress å¥³æ¼”å‘˜
// ä½¿ç”¨åŸºæœ¬ç±»å‹ä½œä¸ºç»“æ„ä½“çš„å…ƒç´ 
type Actress struct &#123;
    Name       string
    Birthday   string
    BirthPlace string
    Opus       []string
&#125;

func main() &#123;
    // æ™®é€šJSON
    jsonData := []byte(`&#123;
        &quot;name&quot;:&quot;è¿ªä¸½çƒ­å·´&quot;,
        &quot;birthday&quot;:&quot;1992-06-03&quot;,
        &quot;birthPlace&quot;:&quot;æ–°ç–†ä¹Œé²æœ¨é½å¸‚&quot;,
        &quot;opus&quot;:[
            &quot;ã€Šé˜¿å¨œå°”ç½•ã€‹&quot;,
            &quot;ã€Šé€†å…‰ä¹‹æ‹ã€‹&quot;,
            &quot;ã€Šå…‹æ‹‰æ‹äººã€‹&quot;
        ]
    &#125;`)

    var actress Actress
    // å› ä¸ºjson.UnMarshal() å‡½æ•°æ¥æ”¶çš„å‚æ•°æ˜¯å­—èŠ‚åˆ‡ç‰‡ï¼Œæ‰€ä»¥éœ€è¦æŠŠJSONå­—ç¬¦ä¸²è½¬æ¢æˆå­—èŠ‚åˆ‡ç‰‡ã€‚
    err := json.Unmarshal(jsonData, &amp;actress)
    if err != nil &#123;
        fmt.Println(&quot;error:&quot;, err)
        return
    &#125;
    fmt.Printf(&quot;å§“åï¼š%s\n&quot;, actress.Name)
    fmt.Printf(&quot;ç”Ÿæ—¥ï¼š%s\n&quot;, actress.Birthday)
    fmt.Printf(&quot;å‡ºç”Ÿåœ°ï¼š%s\n&quot;, actress.BirthPlace)
    fmt.Println(&quot;ä½œå“ï¼š&quot;)
    for _, val := range actress.Opus &#123;
        fmt.Println(&quot;\t&quot;, val)
    &#125;
&#125;
</code></pre>
<h3 id="3-1-2-JSONå†…åµŒæ™®é€šJSON"><a href="#3-1-2-JSONå†…åµŒæ™®é€šJSON" class="headerlink" title="3.1.2 JSONå†…åµŒæ™®é€šJSON"></a>3.1.2 JSONå†…åµŒæ™®é€šJSON</h3><p>JSONå†…åµŒæ™®é€šJSONç»“æ„æ¯”è¾ƒç¨å¾®æ¯”è¾ƒå¤æ‚ï¼Œè¿™æ—¶å€™æˆ‘ä»¬æ ¹æ®JSONæ•°æ®å¯ä»¥çœ‹åˆ°JSONå…¶ä¸­ä¸€ä¸ªå…ƒç´ é‡Œé¢æ˜¯JSONï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸JSONåµŒå¥—å†…çš„JSONä¸€æ ·çš„<code>struct</code>æ•°æ®ç±»å‹ï¼Œå¦‚ä¸‹é¢ä¾‹å­ä¸­çš„<code>Opus</code>ï¼Œæ¥ç€åœ¨å®šä¹‰ä¸å¤–å›´JSONæ•°æ®ä¸€æ ·çš„<code>struct</code>æ•°æ®ç±»å‹ï¼Œå³ä¸‹é¢ä¾‹å­çš„<code>Actress</code>ã€‚</p>
<pre><code class="go">package main

import (
    &quot;encoding/json&quot;
    &quot;fmt&quot;
)

// Opus ä½œå“
type Opus struct &#123;
    Date  string
    Title string
&#125;

// Actress å¥³æ¼”å‘˜
type Actress struct &#123;
    Name       string
    Birthday   string
    BirthPlace string
    // å¯ä»¥çœ‹åˆ°Opusä¸æ˜¯Goè¯­è¨€ç®€å•çš„æ•°æ®ç±»å‹ï¼Œæ˜¯ä¸€ä¸ªOpusä½œå“ç»“æ„ä½“ç±»å‹
    // è¿™æ ·å°±ä¸JSONçš„å†…å®¹ä¸€è‡´äº†
    Opus Opus
&#125;

func main() &#123;
    // JSONåµŒå¥—æ™®é€šJSON
    jsonData := []byte(`&#123;
        &quot;name&quot;:&quot;è¿ªä¸½çƒ­å·´&quot;,
        &quot;birthday&quot;:&quot;1992-06-03&quot;,
        &quot;birthPlace&quot;:&quot;æ–°ç–†ä¹Œé²æœ¨é½å¸‚&quot;,
        &quot;opus&quot;: &#123;
            &quot;Date&quot;:&quot;2013&quot;,
            &quot;Title&quot;:&quot;ã€Šé˜¿å¨œå°”ç½•ã€‹&quot;
        &#125;
     &#125;`)
    var actress Actress
    err := json.Unmarshal(jsonData, &amp;actress)
    if err != nil &#123;
        fmt.Println(&quot;error:&quot;, err)
        return
    &#125;
    fmt.Printf(&quot;å§“åï¼š%s\n&quot;, actress.Name)
    fmt.Printf(&quot;ç”Ÿæ—¥ï¼š%s\n&quot;, actress.Birthday)
    fmt.Printf(&quot;å‡ºç”Ÿåœ°ï¼š%s\n&quot;, actress.BirthPlace)
    fmt.Println(&quot;ä½œå“ï¼š&quot;)
    fmt.Printf(&quot;\t%s:%s&quot;, actress.Opus.Date, actress.Opus.Title)
&#125;
</code></pre>
<h3 id="3-1-3-JSONå†…åµŒæ•°ç»„JSON"><a href="#3-1-3-JSONå†…åµŒæ•°ç»„JSON" class="headerlink" title="3.1.3 JSONå†…åµŒæ•°ç»„JSON"></a>3.1.3 JSONå†…åµŒæ•°ç»„JSON</h3><p>JSONå†…åµŒæ•°ç»„JSONï¼Œå¯ä»¥ç†è§£ä¸ºç»“æ„ä½“å†…åµŒä¸€ä¸ªç»“æ„ä½“åˆ‡ç‰‡ï¼Œå³JSONå†…åµŒæ™®é€šJSONä¸­çš„å†…åµŒç»“æ„ä½“æ”¹ä¸ºç»“æ„ä½“åˆ‡ç‰‡ã€‚</p>
<pre><code class="go">package main

import (
    &quot;encoding/json&quot;
    &quot;fmt&quot;
)

type Opus struct &#123;
    Date  string
    Title string
&#125;
type Actress struct &#123;
    Name       string
    Birthday   string
    BirthPlace string
    Opus       []Opus
&#125;

func main() &#123;
    // JSONåµŒå¥—æ•°ç»„JSON
    jsonData := []byte(`&#123;
        &quot;name&quot;:&quot;è¿ªä¸½çƒ­å·´&quot;,
        &quot;birthday&quot;:&quot;1992-06-03&quot;,
        &quot;birthPlace&quot;:&quot;æ–°ç–†ä¹Œé²æœ¨é½å¸‚&quot;,
        &quot;opus&quot;:[
            &#123;
                &quot;date&quot;:&quot;2013&quot;,
                &quot;title&quot;:&quot;ã€Šé˜¿å¨œå°”ç½•ã€‹&quot;
            &#125;,
            &#123;
                &quot;date&quot;:&quot;2014&quot;,
                &quot;title&quot;:&quot;ã€Šé€†å…‰ä¹‹æ‹ã€‹&quot;
            &#125;,
            &#123;
                &quot;date&quot;:&quot;2015&quot;,
                &quot;title&quot;:&quot;ã€Šå…‹æ‹‰æ‹äººã€‹&quot;
            &#125;
        ]
    &#125;`)
    var actress Actress
    err := json.Unmarshal(jsonData, &amp;actress)
    if err != nil &#123;
        fmt.Println(&quot;error:&quot;, err)
        return
    &#125;
    fmt.Printf(&quot;å§“åï¼š%s\n&quot;, actress.Name)
    fmt.Printf(&quot;ç”Ÿæ—¥ï¼š%s\n&quot;, actress.Birthday)
    fmt.Printf(&quot;å‡ºç”Ÿåœ°ï¼š%s\n&quot;, actress.BirthPlace)
    fmt.Println(&quot;ä½œå“ï¼š&quot;)
    for _, val := range actress.Opus &#123;
        fmt.Printf(&quot;\t%s - %s\n&quot;, val.Date, val.Title)
    &#125;
&#125;
</code></pre>
<h3 id="3-1-4-JSONå†…åµŒå…·æœ‰åŠ¨æ€Keyçš„JSON"><a href="#3-1-4-JSONå†…åµŒå…·æœ‰åŠ¨æ€Keyçš„JSON" class="headerlink" title="3.1.4 JSONå†…åµŒå…·æœ‰åŠ¨æ€Keyçš„JSON"></a>3.1.4 JSONå†…åµŒå…·æœ‰åŠ¨æ€Keyçš„JSON</h3><p>JSONå†…åµŒå…·æœ‰åŠ¨æ€Keyçš„JSONï¼Œæ˜¯ç”±äºJSONçš„Keyä¸èƒ½ç¡®å®šï¼Œï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>map</code>ç±»å‹ï¼Œæ¥æ„é€ è¿™ä¸ªåŠ¨æ€çš„Keyã€‚</p>
<pre><code class="go">package main

import (
    &quot;encoding/json&quot;
    &quot;fmt&quot;
)

// Opus ä½œå“
type Opus struct &#123;
    Type  string
    Title string
&#125;

// Actress å¥³æ¼”å‘˜
type Actress struct &#123;
    Name       string
    Birthday   string
    BirthPlace string
    Opus       map[string]Opus
&#125;

func main() &#123;
    // å¯ä»¥çœ‹åˆ°opusé‡Œé¢çš„2013ã€2014ç­‰Keyæ˜¯ä¸ç¡®å®šçš„ï¼Œä½†æ˜¯Keyç±»å‹éƒ½æ˜¯stringï¼Œè¿™æ—¶å€™æˆ‘ä»¬æ„é€ çš„Opusæ˜¯map[string]Opus
    jsonData := []byte(`&#123;
        &quot;name&quot;:&quot;è¿ªä¸½çƒ­å·´&quot;,
        &quot;birthday&quot;:&quot;1992-06-03&quot;,
        &quot;birthPlace&quot;:&quot;æ–°ç–†ä¹Œé²æœ¨é½å¸‚&quot;,
        &quot;opus&quot;:&#123;
            &quot;2013&quot;:&#123;
            &quot;Type&quot;:&quot;è¿‘ä»£é©å‘½å‰§&quot;,
            &quot;Title&quot;:&quot;ã€Šé˜¿å¨œå°”ç½•ã€‹&quot;
            &#125;,
            &quot;2014&quot;:&#123;
            &quot;Type&quot;:&quot;å¥‡å¹»å‰§&quot;,
            &quot;Title&quot;:&quot;ã€Šé€†å…‰ä¹‹æ‹ã€‹&quot;
            &#125;,
            &quot;2015&quot;:&#123;
                &quot;Type&quot;:&quot;çˆ±æƒ…å‰§&quot;,
                &quot;Title&quot;:&quot;ã€Šå…‹æ‹‰æ‹äººã€‹&quot;
            &#125;
        &#125;
    &#125;`)
    var actress Actress
    err := json.Unmarshal(jsonData, &amp;actress)
    if err != nil &#123;
        fmt.Println(&quot;error:&quot;, err)
        return
    &#125;
    fmt.Printf(&quot;å§“åï¼š%s\n&quot;, actress.Name)
    fmt.Printf(&quot;ç”Ÿæ—¥ï¼š%s\n&quot;, actress.Birthday)
    fmt.Printf(&quot;å‡ºç”Ÿåœ°ï¼š%s\n&quot;, actress.BirthPlace)
    fmt.Println(&quot;ä½œå“ï¼š&quot;)
    for index, value := range actress.Opus &#123;
        fmt.Printf(&quot;\tæ—¥æœŸï¼š%s\n&quot;, index)
        fmt.Printf(&quot;\t\tåˆ†ç±»ï¼š%s\n&quot;, value.Type)
        fmt.Printf(&quot;\t\tæ ‡é¢˜ï¼š%s\n&quot;, value.Title)
    &#125;
&#125;
</code></pre>
<h3 id="3-1-5-JSONå†…åµŒæ•°æ®ä¸æ˜ç¡®"><a href="#3-1-5-JSONå†…åµŒæ•°æ®ä¸æ˜ç¡®" class="headerlink" title="3.1.5 JSONå†…åµŒæ•°æ®ä¸æ˜ç¡®"></a>3.1.5 JSONå†…åµŒæ•°æ®ä¸æ˜ç¡®</h3><p>å½“JSONå†…åµŒä¸æ˜ç¡®ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘ä½¿ç”¨ä¸‹é¢çš„<code>map</code>ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥ä½¿ç”¨ç©ºæ¥å£ã€‚</p>
<pre><code class="go">package main

import (
    &quot;encoding/json&quot;
    &quot;fmt&quot;
    &quot;reflect&quot;
)

// Actress å¥³æ¼”å‘˜
type Actress struct &#123;
    Name       string
    Birthday   string
    BirthPlace string
    Opus       map[string]interface&#123;&#125;
&#125;

func main() &#123;
    // å¯ä»¥çœ‹åˆ°opusé‡Œé¢çš„2013çš„å€¼æ˜¯ä¸ç¡®å®šçš„ï¼Œè¿™æ—¶å€™æˆ‘ä»¬æ„é€ çš„Opusæ˜¯map[string]interface&#123;&#125;
    jsonData := []byte(`&#123;
        &quot;name&quot;:&quot;è¿ªä¸½çƒ­å·´&quot;,
        &quot;birthday&quot;:&quot;1992-06-03&quot;,
        &quot;birthPlace&quot;:&quot;æ–°ç–†ä¹Œé²æœ¨é½å¸‚&quot;,
        &quot;opus&quot;:&#123;
            &quot;2013&quot;:1,
            &quot;2014&quot;:&#123;
            &quot;Type&quot;:&quot;å¥‡å¹»å‰§&quot;,
            &quot;Title&quot;:&quot;ã€Šé€†å…‰ä¹‹æ‹ã€‹&quot;
            &#125;,
            &quot;2015&quot;:&#123;
                &quot;Type&quot;:&quot;çˆ±æƒ…å‰§&quot;,
                &quot;Title&quot;:&quot;ã€Šå…‹æ‹‰æ‹äººã€‹&quot;
            &#125;
        &#125;
    &#125;`)
    var actress Actress
    err := json.Unmarshal(jsonData, &amp;actress)
    if err != nil &#123;
        fmt.Println(&quot;error:&quot;, err)
        return
    &#125;
    fmt.Printf(&quot;å§“åï¼š%s\n&quot;, actress.Name)
    fmt.Printf(&quot;ç”Ÿæ—¥ï¼š%s\n&quot;, actress.Birthday)
    fmt.Printf(&quot;å‡ºç”Ÿåœ°ï¼š%s\n&quot;, actress.BirthPlace)
    fmt.Println(&quot;ä½œå“ï¼š&quot;)
    for index, value := range actress.Opus &#123;
        fmt.Printf(&quot;\tæ—¥æœŸï¼š%s\n&quot;, index)
        // ç”±äºæ˜¯ç©ºæ¥å£ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨åˆ°æ–­è¨€
        Type := reflect.TypeOf(value).Kind()
        // fmt.Println(Type)
        // ä½¿ç”¨switchå¯¹ç±»å‹è¿›è¡Œåˆ¤æ–­ä¸åŒç±»å‹è¾“å‡ºå†…å®¹æ ¼å¼
        switch Type &#123;
        case reflect.Float64:
            // æ–­è¨€è·å–å¯¹åº”å†…å®¹
            fmt.Printf(&quot;\t\tåˆ†ç±»ï¼š%v\n&quot;, value.(float64))
            fmt.Printf(&quot;\t\tæ ‡é¢˜ï¼š%v\n&quot;, value.(float64))
        case reflect.Map:
            fmt.Printf(&quot;\t\tåˆ†ç±»ï¼š%v\n&quot;, value.(map[string]interface&#123;&#125;)[&quot;Type&quot;])
            fmt.Printf(&quot;\t\tæ ‡é¢˜ï¼š%v\n&quot;, value.(map[string]interface&#123;&#125;)[&quot;Title&quot;])
        &#125;
    &#125;
&#125;
</code></pre>
<h2 id="3-2-JSONä¸mapè½¬åŒ–"><a href="#3-2-JSONä¸mapè½¬åŒ–" class="headerlink" title="3.2 JSONä¸mapè½¬åŒ–"></a>3.2 JSONä¸mapè½¬åŒ–</h2><p>å½“JSONå†…å®¹æ ¼å¼è¿‡äºå¤æ‚çš„æ—¶å€™ï¼Œå¯¹åº”çš„ç»“æ„ä½“<code>struct</code>ä¼šéšä¹‹å¢åŠ ï¼Œè¿™æ ·ä¼šå¢åŠ å¤§é‡çš„ä»£ç ã€‚æˆ‘ä»¬é‡‡ç”¨ä½¿ç”¨<code>map[string]interface&#123;&#125;</code>åŠ è½½JSONæ•°æ®ã€‚å°±æ˜¯ä½¿ç”¨<code>json.Unmarshal</code> å°† JSON è½¬åŒ–<code>map[string]interface&#123;&#125;</code>ã€‚</p>
<pre><code class="go">package main

import (
    &quot;encoding/json&quot;
    &quot;fmt&quot;
)

func main() &#123;
    // å®šä¹‰make(map[string]interface&#123;&#125;)
    r := make(map[string]interface&#123;&#125;)
    result := `&#123;&quot;data&quot;:&#123;&quot;flag&quot;:&quot;1&quot;,&quot;map&quot;:&#123;&quot;AOH&quot;:&quot;ä¸Šæµ·è™¹æ¡¥&quot;,&quot;GGQ&quot;:&quot;å¹¿å·ä¸œ&quot;,&quot;GZQ&quot;:&quot;å¹¿å·&quot;&#125;,&quot;result&quot;:[&quot;1&quot;,&quot;sas&quot;,1,&quot;opopijh&quot;]&#125;&#125;`
    // è°ƒç”¨æ ‡å‡†åº“encoding/jsonçš„Unmarshal
    // å°†JSONæ•°æ®ï¼ˆJSONä»¥å­—ç¬¦ä¸²å½¢å¼è¡¨ç¤ºï¼‰è½¬æ¢æˆ[]byteï¼Œå¹¶å°†æ•°æ®åŠ è½½åˆ°å¯¹è±¡rçš„å†…å­˜åœ°å€
    json.Unmarshal([]byte(result), &amp;r)
    // r[&quot;data&quot;]æ˜¯è¯»å–JSONæœ€å¤–å±‚çš„key,å³data
    // å¦‚æœåµŒå¥—JSONæ•°æ®ï¼Œåˆ™ä½¿ç”¨map[string]interface&#123;&#125;è¯»å–ä¸‹ä¸€å±‚çš„JSONæ•°æ®
    // å¦‚è¯»å–keyä¸ºdataé‡Œé¢åµŒå¥—çš„result,å³ï¼šr[&quot;data&quot;].(map[string]interface&#123;&#125;)[&quot;result&quot;]
    // å¦‚æœJSONçš„æŸä¸ªkeyçš„æ•°æ®ä»¥æ•°ç»„è¡¨ç¤ºï¼Œåˆ™ä½¿ç”¨([]interface&#123;&#125;)[index]è¯»å–æ•°ç»„ä¸­æŸä¸ªæ•°æ®ã€‚
    // å¦‚è¯»å–keyä¸ºresultçš„ç¬¬å››ä¸ªæ•°æ®ï¼šr[&quot;data&quot;].(map[string]interface&#123;&#125;)[&quot;result&quot;].([]interface&#123;&#125;)[3]
    fmt.Println(r[&quot;data&quot;].(map[string]interface&#123;&#125;)[&quot;result&quot;].([]interface&#123;&#125;)[3])
&#125;
</code></pre>
<ul>
<li>è¿™é‡Œçš„é€»è¾‘å°±æ˜¯<code>r[&quot;data&quot;]</code>è·å–çš„æ˜¯<code>&#123;&quot;flag&quot;:&quot;1&quot;,&quot;map&quot;:&#123;&quot;AOH&quot;:&quot;ä¸Šæµ·è™¹æ¡¥&quot;,&quot;GGQ&quot;:&quot;å¹¿å·ä¸œ&quot;,&quot;GZQ&quot;:&quot;å¹¿å·&quot;&#125;,&quot;result&quot;:[&quot;1&quot;,&quot;sas&quot;,1,&quot;opopijh&quot;]&#125;</code></li>
<li>è€Œ <code>r[&quot;data&quot;].(map[string]interface&#123;&#125;)[&quot;result&quot;]</code>ä¸­<code>(map[string]interface&#123;&#125;)[&quot;result&quot;]</code>æ„æ€æ˜¯ä¸‹ä¸€ä¸ªè¦è·å–çš„å…ƒç´ æ˜¯<code>(map[string]interface&#123;&#125;)</code>ï¼Œè·å–çš„å€¼æ˜¯<code>[&quot;1&quot;,&quot;sas&quot;,1,&quot;opopijh&quot;]</code></li>
<li>æ¥ç€<code>r[&quot;data&quot;].(map[string]interface&#123;&#125;)[&quot;result&quot;].([]interface&#123;&#125;)[3]</code>æ„æ€æ˜¯ä¸‹ä¸€ä¸ªè¦è·å–çš„å…ƒç´ ç±»å‹æ˜¯<code>([]interface&#123;&#125;)</code>ï¼Œè·å–çš„å€¼æ˜¯<code>opopijh</code>ã€‚</li>
</ul>
<h2 id="3-3-é€‰æ‹©structè¿˜æ˜¯mapï¼Ÿ"><a href="#3-3-é€‰æ‹©structè¿˜æ˜¯mapï¼Ÿ" class="headerlink" title="3.3 é€‰æ‹©structè¿˜æ˜¯mapï¼Ÿ"></a>3.3 é€‰æ‹©structè¿˜æ˜¯mapï¼Ÿ</h2><p>å¯¹äºJSONè½¬åŒ–ï¼Œæ˜¯é€‰æ‹©<code>struct</code>è¿˜æ˜¯<code>map</code>ï¼Ÿä¸ªäººè§‰å¾—æ ¹æ®æƒ…å†µå†³å®šï¼Œå¦‚æœæ•°æ®é‡ä¸å¤§JSONåµŒå¥—ä¸å¤æ‚æˆ–è€…æ˜¯JSONçš„é€»è¾‘æ¸…æ™°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨<code>struct</code>ï¼Œè€ŒJSONåµŒå¥—å¤æ‚ï¼Œé€»è¾‘ä¸ç¡®å®šï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨<code>map</code>ï¼Œä½†æ˜¯ä¼šå‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œä½¿ç”¨åå°„ï¼Œåå°„ä¼šæ‹‰ä½ç¨‹åºæ‰§è¡Œæ•ˆç‡ã€‚ä¸ªäººè€Œè¨€ï¼Œæ›´å€¾å‘äºä½¿ç”¨<code>struct</code>ï¼Œå› ä¸º<code>struct</code>å¯ä»¥é…å¥—ç©ºæ¥å£ï¼Œå¯¹ä¸ç¡®å®šçš„ç±»å‹è¿›è¡ŒåŒ¹é…ã€‚</p>
<p>æ›´å¤šå…³äºJSONçš„ä»‹ç»å¯ä»¥çœ‹è¿™ä¸¤ç¯‡æ–‡ç« ï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/wowenlong/article/details/113571853">goè¯­è¨€:jsonè½¬æ¢æ€»ç»“</a></li>
<li><a target="_blank" rel="noopener" href="https://studygolang.com/articles/20923">GOå°çŸ¥è¯†ä¹‹å®ä¾‹æ¼”ç¤º json å¦‚ä½•è½¬åŒ–ä¸º map å’Œ struct</a></li>
</ul>

    </div>
    
</div>
                         
<footer id="footer">
    <div class="footer-wrap">
        <div>
            Â© 2022 - 2022 å°Câ™¥å¤©å¤©
            <span class="footer-icon">
                <i class="fa-brands fa-github fa-fw"></i>
            </span>
            @å°C&å¤©å¤©
        </div>
        <div>
            å¤‡æ¡ˆå·ï¼šå°C&å¤©å¤©ã®çª
        </div>
    </div>
</footer>
                    </div>
                </div>
            </transition>
            <div id="img_show">
                <img id="img_content" alt="img_show">
            </div>
        </div>
        <script src="https://cdn.staticfile.org/highlight.js/11.5.1/highlight.min.js"></script>
        <script src="/js/particlex.js"></script>
        <script src="/js/showimg.js"></script>
        

        <!-- 2Dæ¨¡å‹ -->
        <div id="L2dCanvas" style="position: relative;"></div>
        <script src="/js/live2d.min.js"></script>
        <script src="/css/live2d.css"></script>
        <script>
            var v = new Viewer({
                basePath: "/model",
                role: "zhala_2",
                mobile: true,
            });
        </script>
        <!-- èƒŒæ™¯éŸ³ä¹ -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.0/dist/APlayer.min.css">
        <script src="/js/APlayer.min.js"></script>
        <div id="aplayer" class="aplayer" data-id="3027446018" data-server="netease" data-type="playlist" data-autoplay="true" data-fixed="true" data-listfolded="true" data-order="random" data-theme="#F58EA8"></div>
        <script src="/js/Meting.min.js"></script>
        <!-- ç‚¹å‡» -->
        <script>
            let body = document.getElementsByTagName('body')[0];
            body.addEventListener('click', (e) => {
                let contentArr = ['âœŠ','ğŸ˜˜','ğŸ˜','ğŸ˜Š','ğŸ˜­','ğŸ˜¡','ğŸ˜‹','ğŸ‘','ğŸ·','ğŸ˜±','ğŸ’·','ğŸ’µ','Ã—','ğŸ†—','â„–','â­','ğŸŒ™','â™¥','ğŸ’´','â˜€','ğŸ','ğŸ‚','ğŸ','âˆš'];
                let randomNum = function (n) {
                    return Math.floor(Math.random() * n)
                }
                let span = document.createElement('span');
                span.innerHTML = `${contentArr[randomNum(contentArr.length)]}`;
                span.style.color = `rgb(${randomNum(256)},${randomNum(256)},${randomNum(256)})`;
                span.style.position = 'absolute';
                span.style.top = `${e.pageY}px`;
                span.style.left = `${e.pageX}px`;
                span.style.transition = 'all 1s ease';
                span.style.zIndex = 20000;
                body.appendChild(span)
                setTimeout(()=>{
                    span.style.top = span.offsetTop - 100 + 'px';
                    span.style.opacity = 0;
                    setTimeout(()=>{span.remove()},700)
                },0)
            })
        </script>
        <!-- æµæ˜ŸèƒŒæ™¯ç‰¹æ•ˆ -->
        <canvas id="background" style="position:fixed;top:0;left:0;width:100vw;height:100vh;pointer-events:none;z-index:-1"></canvas>
        <script src="/js/background.js"></script>
    </body>
</html>